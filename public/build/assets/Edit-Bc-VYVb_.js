import{H as h,r as y,u as g,a as r,o as l,b as _,d as t,h as v,e as f,f as s,g as k,j as i,i as u,q as c,t as d,F as b,n as U,x as V}from"./app-BweLt-Dw.js";import{_ as C}from"./AuthenticatedLayout-Cr3Tbxkc.js";import{_ as N}from"./AlertModal-CRoLC1rl.js";import"./Modal-BMl6eaiN.js";const E={class:"font-semibold text-xl text-gray-800 leading-tight"},S={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"mb-4"},F=s("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1),M={key:0,class:"text-sm text-red-600 mt-2"},O={class:"mb-4"},P=s("label",{for:"email",class:"block font-medium text-sm text-gray-700"},"Email",-1),z={key:0,class:"text-sm text-red-600 mt-2"},A={class:"mb-4"},T=s("label",{for:"role",class:"block font-medium text-sm text-gray-700"},"Rol",-1),H=["value"],K={key:0,class:"text-sm text-red-600 mt-2"},L={class:"mb-4"},R=s("label",{for:"password",class:"block font-medium text-sm text-gray-700"},"Nueva Contraseña (Opcional)",-1),G=s("p",{class:"text-xs text-gray-500 mt-1"},"Dejar en blanco para no cambiar la contraseña.",-1),I={key:0,class:"text-sm text-red-600 mt-2"},J={class:"mb-4"},Q=s("label",{for:"password_confirmation",class:"block font-medium text-sm text-gray-700"},"Confirmar Nueva Contraseña",-1),W={class:"flex items-center justify-end mt-6 border-t pt-6"},X=["disabled"],os={__name:"Edit",props:{user:Object,roles:Array},setup(p){const n=p,x=h(),m=y(!!x?.props?.flash?.success),e=g({_method:"PUT",name:n.user.name,email:n.user.email,password:"",password_confirmation:"",role:n.user.roles[0]?.name||""}),w=()=>{e.put(route("admin.users.update",n.user.id),{onSuccess:()=>{m.value=!0,e.reset("password","password_confirmation")}})};return(Y,a)=>(l(),r(b,null,[_(t(v),{title:"Editar Usuario"}),_(N,{show:m.value,type:"success",title:"Usuario actualizado","primary-text":"OK",onPrimary:a[0]||(a[0]=o=>m.value=!1),onClose:a[1]||(a[1]=o=>m.value=!1)},null,8,["show"]),_(C,null,{header:f(()=>[s("h2",E,"Editar Usuario: "+d(p.user.name),1)]),default:f(()=>[s("div",S,[s("div",j,[s("div",q,[s("div",$,[s("form",{onSubmit:k(w,["prevent"])},[s("div",B,[s("div",null,[s("div",D,[F,i(s("input",{id:"name","onUpdate:modelValue":a[2]||(a[2]=o=>t(e).name=o),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[c,t(e).name]]),t(e).errors.name?(l(),r("p",M,d(t(e).errors.name),1)):u("",!0)]),s("div",O,[P,i(s("input",{id:"email","onUpdate:modelValue":a[3]||(a[3]=o=>t(e).email=o),type:"email",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[c,t(e).email]]),t(e).errors.email?(l(),r("p",z,d(t(e).errors.email),1)):u("",!0)]),s("div",A,[T,i(s("select",{id:"role","onUpdate:modelValue":a[4]||(a[4]=o=>t(e).role=o),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},[(l(!0),r(b,null,U(p.roles,o=>(l(),r("option",{key:o,value:o},d(o),9,H))),128))],512),[[V,t(e).role]]),t(e).errors.role?(l(),r("p",K,d(t(e).errors.role),1)):u("",!0)])]),s("div",null,[s("div",L,[R,i(s("input",{id:"password","onUpdate:modelValue":a[5]||(a[5]=o=>t(e).password=o),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[c,t(e).password]]),G,t(e).errors.password?(l(),r("p",I,d(t(e).errors.password),1)):u("",!0)]),s("div",J,[Q,i(s("input",{id:"password_confirmation","onUpdate:modelValue":a[6]||(a[6]=o=>t(e).password_confirmation=o),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[c,t(e).password_confirmation]])])])]),s("div",W,[s("button",{type:"submit",disabled:t(e).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Actualizar Usuario ",8,X)])],32)])])])])]),_:1})],64))}};export{os as default};

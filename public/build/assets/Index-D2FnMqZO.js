import{r as b,w as k,a as f,o as h,b as r,u as d,h as T,d as l,e,l as n,n as c,i,g as w,v,p as q,f as B,F as C,j as D,t as u,k as N}from"./app-CdEBBWGl.js";import{_ as j}from"./AuthenticatedLayout-PmA-gZnP.js";import{_ as L}from"./Pagination-DOnkRMqJ.js";const M=e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Órdenes")],-1),O={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900"},z={class:"mb-4"},U={class:"flex flex-wrap gap-2"},$={class:"mb-4"},A={class:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center"},G={class:"md:col-span-2"},I={class:"relative"},P=e("svg",{class:"absolute left-2 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M10 2a8 8 0 105.293 14.707l3.5 3.5a1 1 0 001.414-1.414l-3.5-3.5A8 8 0 0010 2zm0 2a6 6 0 110 12A6 6 0 0110 4z"})],-1),R={class:"flex items-center gap-2 md:col-span-2"},H=e("span",{class:"text-gray-500 text-sm"},"a",-1),J={class:"flex items-center gap-2"},K=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),Q={class:"overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-200"},X=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Orden #"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cliente"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Teléfono"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Fecha"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Estado"),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Ver")])])],-1),Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},oe={class:"px-6 py-4 whitespace-nowrap"},le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},de={key:0},ie=e("td",{colspan:"7",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"}," No se encontraron órdenes con este filtro. ",-1),ne=[ie],xe={__name:"Index",props:{orders:Object,filters:Object},setup(s){const g=s,p=b(g.filters?.q||""),x=b(g.filters?.start||""),m=b(g.filters?.end||"");let _;const y=()=>{clearTimeout(_),_=setTimeout(()=>{N.get(route("admin.orders.index"),{status:g.filters?.status||void 0,q:p.value||void 0,start:x.value||void 0,end:m.value||void 0},{preserveState:!0,replace:!0,preserveScroll:!0})},350)};k(p,y),k([x,m],y);const V=o=>{const a={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(o).toLocaleDateString("es-CO",a)};return(o,a)=>(h(),f(C,null,[r(d(T),{title:"Gestionar Órdenes"}),r(j,null,{header:l(()=>[M]),default:l(()=>[e("div",O,[e("div",S,[e("div",E,[e("div",F,[e("div",z,[e("div",U,[r(d(n),{href:o.route("admin.orders.index"),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-blue-600 text-white":!s.filters.status,"bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status}])},{default:l(()=>[i(" Todos ")]),_:1},8,["href","class"]),r(d(n),{href:o.route("admin.orders.index",{status:"recibido"}),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-yellow-500 text-white":s.filters.status==="recibido","bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status!=="recibido"}])},{default:l(()=>[i(" Recibidos ")]),_:1},8,["href","class"]),r(d(n),{href:o.route("admin.orders.index",{status:"en_preparacion"}),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-blue-500 text-white":s.filters.status==="en_preparacion","bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status!=="en_preparacion"}])},{default:l(()=>[i(" En Preparación ")]),_:1},8,["href","class"]),r(d(n),{href:o.route("admin.orders.index",{status:"despachado"}),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-purple-500 text-white":s.filters.status==="despachado","bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status!=="despachado"}])},{default:l(()=>[i(" Despachados ")]),_:1},8,["href","class"]),r(d(n),{href:o.route("admin.orders.index",{status:"entregado"}),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-green-500 text-white":s.filters.status==="entregado","bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status!=="entregado"}])},{default:l(()=>[i(" Entregados ")]),_:1},8,["href","class"]),r(d(n),{href:o.route("admin.orders.index",{status:"cancelado"}),class:c(["px-3 py-2 text-sm font-medium rounded-md",{"bg-red-500 text-white":s.filters.status==="cancelado","bg-gray-200 text-gray-700 hover:bg-gray-300":s.filters.status!=="cancelado"}])},{default:l(()=>[i(" Cancelados ")]),_:1},8,["href","class"])])]),e("div",$,[e("div",A,[e("div",G,[e("div",I,[w(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),type:"text",placeholder:"Buscar por nombre o teléfono",class:"w-full pl-10 pr-3 py-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[v,p.value]]),P])]),e("div",R,[w(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>x.value=t),type:"date",class:"w-full border rounded-md text-sm py-2 px-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[v,x.value]]),H,w(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>m.value=t),type:"date",class:"w-full border rounded-md text-sm py-2 px-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[v,m.value]])]),e("div",J,[e("button",{onClick:a[3]||(a[3]=q(()=>{p.value="",x.value="",m.value="",y()},["prevent"])),class:"inline-flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium py-2 px-3 rounded-md w-full md:w-auto justify-center"},[K,i(" Limpiar ")])])])]),e("div",Q,[e("table",W,[X,e("tbody",Y,[(h(!0),f(C,null,D(s.orders.data,t=>(h(),f("tr",{key:t.id},[e("td",Z,u(t.sequence_number||t.sequence_number===0?t.sequence_number:t.id),1),e("td",ee,u(t.customer_name),1),e("td",te,u(t.customer_phone),1),e("td",se,u(V(t.created_at)),1),e("td",ae,u(t.items_count),1),e("td",re,"$ "+u(Number(t.total_price).toLocaleString("es-CO")),1),e("td",oe,[e("span",{class:c(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":t.status==="recibido","bg-blue-100 text-blue-800":t.status==="en_preparacion","bg-purple-100 text-purple-800":t.status==="despachado","bg-green-100 text-green-800":t.status==="entregado","bg-red-100 text-red-800":t.status==="cancelado"}])},u(t.status),3)]),e("td",le,[r(d(n),{href:o.route("admin.orders.show",t.id),class:"text-indigo-600 hover:text-indigo-900"},{default:l(()=>[i("Ver")]),_:2},1032,["href"])])]))),128)),s.orders.data.length===0?(h(),f("tr",de,ne)):B("",!0)])])]),r(L,{class:"mt-6",links:s.orders.links},null,8,["links"])])])])])]),_:1})],64))}};export{xe as default};

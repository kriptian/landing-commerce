import{H as $,r as v,u as L,a as g,o as _,f as t,b as e,i as k,d as o,j as C,E as D,s as I,e as V,m as b,g as y}from"./app-CNn28wTC.js";import{_ as r,a as d,b as u}from"./InputError-B3Ol3tkp.js";import{_ as N}from"./PrimaryButton-FJgTUhUD.js";import{_ as P}from"./SecondaryButton-DPBPLJq3.js";import{_ as T}from"./AlertModal-DdXO31pu.js";import"./Modal-DwPaT3Nw.js";const E=t("h2",{class:"text-lg font-medium text-gray-900"}," Información de Perfil y Tienda ",-1),F=t("p",{class:"mt-1 text-sm text-gray-600"}," Actualiza la información de tu cuenta, nombre, logo y redes sociales de tu tienda. ",-1),R={key:0,class:"space-y-6 border-t pt-6"},z={class:"mt-2 flex items-center space-x-6"},A={key:0},B=["src"],O=t("p",{class:"text-xs text-gray-500 mt-1"},"Apunta tu DNS a este servidor. Si lo defines, tu catálogo abrirá ahí.",-1),q={key:1},j={class:"flex items-center gap-4"},Q={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(w){const c=$().props.auth.user,n=c.store,f=v(!1),l=L({_method:"patch",name:c.name,email:c.email,store_name:n?.name||"",logo:null,facebook_url:n?.facebook_url||"",instagram_url:n?.instagram_url||"",tiktok_url:n?.tiktok_url||"",custom_domain:n?.custom_domain||"",phone:n?.phone||"",address:n?.address||"",address_two:n?.address_two||"",address_three:n?.address_three||"",address_four:n?.address_four||""}),i=v(null),p=v(null),x=()=>{const m=p.value.files[0];if(!m)return;const a=new FileReader;a.onload=s=>{i.value=s.target.result},a.readAsDataURL(m)},h=()=>{p.value.click()},U=()=>{p.value&&(p.value.value=null)},S=()=>{l.post(route("profile.update"),{onSuccess:()=>{U(),i.value=null,f.value=!0}})};return(m,a)=>(_(),g("section",null,[t("header",null,[E,e(T,{show:f.value,type:"success",title:"¡Perfil actualizado!",message:"Los datos de tu perfil y tienda se guardaron correctamente.","primary-text":"Entendido",onPrimary:a[0]||(a[0]=s=>f.value=!1),onClose:a[1]||(a[1]=s=>f.value=!1)},null,8,["show"]),F]),t("form",{onSubmit:y(S,["prevent"]),class:"mt-6 space-y-6"},[t("div",null,[e(r,{for:"name",value:"Tu Nombre"}),e(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(l).name,"onUpdate:modelValue":a[2]||(a[2]=s=>o(l).name=s),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.name},null,8,["message"])]),t("div",null,[e(r,{for:"email",value:"Email"}),e(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(l).email,"onUpdate:modelValue":a[3]||(a[3]=s=>o(l).email=s),required:"",autocomplete:"username"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.email},null,8,["message"])]),m.$page.props.auth.user.store?(_(),g("div",R,[t("div",null,[e(r,{for:"phone",value:"WhatsApp de la tienda"}),e(d,{id:"phone",type:"tel",class:"mt-1 block w-full",modelValue:o(l).phone,"onUpdate:modelValue":a[4]||(a[4]=s=>o(l).phone=s),autocomplete:"tel",placeholder:"57xxxxxxxxxx"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.phone},null,8,["message"])]),t("div",null,[e(r,{for:"address",value:"Dirección (Opcional)"}),e(d,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(l).address,"onUpdate:modelValue":a[5]||(a[5]=s=>o(l).address=s),autocomplete:"address",placeholder:"Calle 123 # 45-67"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.address},null,8,["message"])]),t("div",null,[e(r,{for:"address_two",value:"Dirección Sede 2 (Opcional)"}),e(d,{id:"address_two",type:"text",class:"mt-1 block w-full",modelValue:o(l).address_two,"onUpdate:modelValue":a[6]||(a[6]=s=>o(l).address_two=s),placeholder:"Calle 456 # 78-90"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.address_two},null,8,["message"])]),t("div",null,[e(r,{for:"address_three",value:"Dirección Sede 3 (Opcional)"}),e(d,{id:"address_three",type:"text",class:"mt-1 block w-full",modelValue:o(l).address_three,"onUpdate:modelValue":a[7]||(a[7]=s=>o(l).address_three=s),placeholder:"Carrera 789 # 12-34"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.address_three},null,8,["message"])]),t("div",null,[e(r,{for:"address_four",value:"Dirección Sede 4 (Opcional)"}),e(d,{id:"address_four",type:"text",class:"mt-1 block w-full",modelValue:o(l).address_four,"onUpdate:modelValue":a[8]||(a[8]=s=>o(l).address_four=s),placeholder:"Transversal 321 # 56-78"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.address_four},null,8,["message"])]),t("div",null,[e(r,{for:"store_name",value:"Nombre de la Tienda"}),e(d,{id:"store_name",type:"text",class:"mt-1 block w-full",modelValue:o(l).store_name,"onUpdate:modelValue":a[9]||(a[9]=s=>o(l).store_name=s),required:"",autocomplete:"organization"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.store_name},null,8,["message"])]),t("div",null,[e(r,{for:"logo",value:"Logo de la Tienda"}),t("div",z,[m.$page.props.auth.user.store.logo_url&&!i.value?(_(),g("div",A,[t("img",{src:m.$page.props.auth.user.store.logo_url,class:"h-20 w-20 rounded-full object-cover"},null,8,B)])):k("",!0),C(t("div",null,[t("span",{class:"block h-20 w-20 rounded-full bg-cover bg-no-repeat bg-center",style:I("background-image: url('"+i.value+"');")},null,4)],512),[[D,i.value]]),e(P,{type:"button",onClick:y(h,["prevent"])},{default:V(()=>[b(" Seleccionar Logo ")]),_:1})]),t("input",{ref_key:"logoInput",ref:p,type:"file",class:"hidden",onInput:a[10]||(a[10]=s=>o(l).logo=s.target.files[0]),onChange:x},null,544),e(u,{message:o(l).errors.logo,class:"mt-2"},null,8,["message"])]),t("div",null,[e(r,{for:"custom_domain",value:"Dominio propio (opcional)"}),e(d,{id:"custom_domain",type:"text",class:"mt-1 block w-full",modelValue:o(l).custom_domain,"onUpdate:modelValue":a[11]||(a[11]=s=>o(l).custom_domain=s),autocomplete:"off",placeholder:"tienda.midominio.com"},null,8,["modelValue"]),O,e(u,{class:"mt-2",message:o(l).errors.custom_domain},null,8,["message"])]),t("div",null,[e(r,{for:"facebook_url",value:"URL de Facebook"}),e(d,{id:"facebook_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).facebook_url,"onUpdate:modelValue":a[12]||(a[12]=s=>o(l).facebook_url=s),autocomplete:"off",placeholder:"https://facebook.com/tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.facebook_url},null,8,["message"])]),t("div",null,[e(r,{for:"instagram_url",value:"URL de Instagram"}),e(d,{id:"instagram_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).instagram_url,"onUpdate:modelValue":a[13]||(a[13]=s=>o(l).instagram_url=s),autocomplete:"off",placeholder:"https://instagram.com/tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.instagram_url},null,8,["message"])]),t("div",null,[e(r,{for:"tiktok_url",value:"URL de TikTok"}),e(d,{id:"tiktok_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).tiktok_url,"onUpdate:modelValue":a[14]||(a[14]=s=>o(l).tiktok_url=s),autocomplete:"off",placeholder:"https://tiktok.com/@tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.tiktok_url},null,8,["message"])])])):k("",!0),w.mustVerifyEmail&&o(c).email_verified_at===null?(_(),g("div",q)):k("",!0),t("div",j,[e(N,{disabled:o(l).processing},{default:V(()=>[b("Guardar Cambios")]),_:1},8,["disabled"])])],32)]))}};export{Q as default};

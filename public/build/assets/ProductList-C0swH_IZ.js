import{_ as Ce,r as d,c as m,w as X,y as b,n as W,o as Me,a as Se,b as l,d as a,e as M,i as c,g as e,f as x,u as G,h as je,k as S,t as v,q as Z,m as $,j as de,v as ze,T as R,L as Y,F as I,l as A,Q as Be,p as Ie,M as Pe,x as ee,R as Le,S as Ne}from"./app-BJsUzWIY.js";import{_ as $e}from"./Pagination-GHuJhyDm.js";const r=h=>(Le("data-v-cdce5490"),h=h(),Ne(),h),Ae=r(()=>e("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1)),Te=r(()=>e("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1)),Oe=r(()=>e("link",{href:"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600&display=swap",rel:"stylesheet"},null,-1)),De={key:0,class:"fixed top-0 left-0 right-0 z-[60] bg-red-600/60 backdrop-blur-sm"},Fe={class:"marquee"},qe={class:"marquee__inner text-white font-extrabold uppercase tracking-wider text-xs sm:text-sm"},Ve={class:"flex items-center gap-2 whitespace-nowrap"},Xe=r(()=>e("span",{class:"blink"},"ðŸ”¥",-1)),Ge=r(()=>e("span",{"aria-hidden":"true"},"â€¢",-1)),Re=r(()=>e("span",{"aria-hidden":"true"},"â†—",-1)),Ee={class:"flex items-center gap-2 whitespace-nowrap"},He=r(()=>e("span",{class:"blink"},"ðŸ”¥",-1)),Ue=r(()=>e("span",{"aria-hidden":"true"},"â€¢",-1)),Je=r(()=>e("span",{"aria-hidden":"true"},"â†—",-1)),Ke={class:"flex items-center gap-2 whitespace-nowrap"},Qe=r(()=>e("span",{class:"blink"},"ðŸ”¥",-1)),We=r(()=>e("span",{"aria-hidden":"true"},"â€¢",-1)),Ze=r(()=>e("span",{"aria-hidden":"true"},"â†—",-1)),Ye={class:"container mx-auto px-4 sm:px-6 py-4 flex items-center justify-between gap-2 relative"},et=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-6 h-6 text-gray-700"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5"})],-1)),tt=[et],st=["src","alt"],ot={class:"flex items-center justify-end flex-shrink-0 z-10"},at={key:0,class:"flex items-center"},lt=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-6 h-6 text-gray-700"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1)),rt=[lt],nt={key:1,class:"flex items-center gap-2 min-w-[200px] sm:min-w-[280px]"},it=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 text-gray-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),ct=[it],ut=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)),dt=[ut],ht=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)),vt=[ht],pt={class:"relative h-[300px] sm:h-[400px] md:h-[500px]"},gt={class:"relative h-full overflow-hidden"},mt={key:0,class:"relative h-full bg-white/90 backdrop-blur-sm overflow-hidden"},ft={class:"absolute inset-0 flex items-center justify-center p-4 sm:p-6 md:p-8"},_t=["src","alt"],xt={class:"absolute inset-0 flex flex-col justify-between p-4 sm:p-6 md:p-8 pointer-events-none"},bt={class:"text-gray-900 bg-white/70 backdrop-blur-sm rounded-lg px-4 py-3 max-w-full pointer-events-auto"},wt={class:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 truncate"},yt={class:"flex items-center gap-2 sm:gap-3 flex-wrap"},kt={class:"text-lg sm:text-xl md:text-2xl font-extrabold whitespace-nowrap"},Ct={key:0,class:"inline-flex items-center rounded bg-red-600 text-white font-bold px-2 sm:px-3 py-1 text-xs sm:text-sm whitespace-nowrap"},Mt={class:"flex justify-center pointer-events-auto mb-8 sm:mb-12 md:mb-16"},St={key:0,class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10"},jt=["onClick","aria-label"],zt={key:0,class:"fixed inset-0 z-[70] flex"},Bt={class:"relative w-80 max-w-[90%] bg-white/95 backdrop-blur-md h-full shadow-2xl"},It={class:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b px-4 py-3 flex items-center justify-between"},Pt={class:"flex items-center gap-2"},Lt=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 text-gray-700"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)),Nt=[Lt],$t={class:"font-semibold text-gray-900"},At=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 text-gray-700"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Tt=[At],Ot={class:"px-2 py-2 overflow-y-auto h-[calc(100%-56px)]"},Dt={class:"px-3 pb-2 flex items-center justify-between"},Ft={class:"text-sm font-semibold text-gray-800"},qt={key:0,class:"mb-1"},Vt=r(()=>e("span",{class:"font-bold text-red-700 uppercase"},"Promociones",-1)),Xt={class:"text-xs bg-red-600 text-white rounded-full px-2 py-0.5"},Gt={key:1,class:"px-2 py-2 text-sm text-gray-500"},Rt=["onClick"],Et={class:"font-medium text-gray-800"},Ht={class:"flex items-center gap-3"},Ut={class:"text-xs bg-gray-100 text-gray-700 rounded-full px-2 py-0.5"},Jt={key:0,class:"w-4 h-4 inline-flex items-center justify-center"},Kt={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6"},Qt=Pe('<div class="w-full h-40 sm:h-48 md:h-56 bg-gray-200" data-v-cdce5490></div><div class="p-4 space-y-3" data-v-cdce5490><div class="h-4 bg-gray-200 rounded w-3/4" data-v-cdce5490></div><div class="h-6 bg-gray-200 rounded w-1/3" data-v-cdce5490></div><div class="h-10 bg-gray-200 rounded w-full" data-v-cdce5490></div></div>',2),Wt=[Qt],Zt={key:2,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6"},Yt={class:"relative"},es=["src"],ts={key:1,class:"absolute top-3 left-3 bg-red-600 text-white text-xs font-semibold px-2 py-1 rounded"},ss={key:2,class:"absolute top-3 left-3 bg-yellow-500 text-white text-xs font-semibold px-2 py-1 rounded"},os={class:"p-4 flex flex-col gap-3"},as={class:"text-base sm:text-lg font-semibold text-gray-900 line-clamp-2"},ls={class:"flex items-center gap-2"},rs={class:"text-lg sm:text-xl text-gray-900 font-extrabold"},ns={key:0,class:"inline-flex items-center rounded bg-red-600 text-white font-bold px-1.5 py-0.5 text-[11px] sm:text-xs"},is={key:0,class:"text-xs sm:text-sm text-gray-400 line-through"},cs={key:3},us={class:"text-center py-16"},ds=r(()=>e("p",{class:"text-xl font-semibold text-gray-700"},"No se encontraron productos",-1)),hs=r(()=>e("p",{class:"text-gray-500 mt-2"},"Intenta con otra bÃºsqueda o categorÃ­a.",-1)),vs={class:"bg-white mt-16 border-t"},ps={class:"container mx-auto px-6 py-4 text-center text-gray-500"},gs={key:1,class:"fixed bottom-6 left-6 z-50"},ms={class:"relative"},fs={key:0,class:"absolute right-0 bottom-0 flex flex-col items-end gap-3 -translate-y-14 z-10"},_s=["href"],xs={key:0,class:"w-5 h-5 text-blue-500",viewBox:"0 0 24 24",fill:"currentColor"},bs=r(()=>e("path",{"fill-rule":"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z","clip-rule":"evenodd"},null,-1)),ws=[bs],ys={key:1,class:"w-5 h-5 text-pink-500",viewBox:"0 0 24 24",fill:"currentColor"},ks=r(()=>e("path",{"fill-rule":"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zm-1.161 1.545a1.12 1.12 0 10-1.584 1.584 1.12 1.12 0 001.584-1.584zm-3.097 3.569a3.468 3.468 0 106.937 0 3.468 3.468 0 00-6.937 0z","clip-rule":"evenodd"},null,-1)),Cs=r(()=>e("path",{d:"M12 6.166a5.834 5.834 0 100 11.668 5.834 5.834 0 000-11.668zm0 1.545a4.289 4.289 0 110 8.578 4.289 4.289 0 010-8.578z"},null,-1)),Ms=[ks,Cs],Ss={key:2,class:"w-5 h-5 text-black",viewBox:"0 0 24 24",fill:"currentColor"},js=r(()=>e("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.01-1.58-.31-3.15-.82-4.7-.52-1.56-1.23-3.04-2.1-4.42a.1.1 0 00-.2-.04c-.02.13-.03.26-.05.39v7.24a.26.26 0 00.27.27c.82.04 1.63.16 2.42.37.04.83.16 1.66.36 2.47.19.82.49 1.6.86 2.33.36.73.81 1.41 1.32 2.02-.17.1-.34.19-.51.28a4.26 4.26 0 01-1.93.52c-1.37.04-2.73-.06-4.1-.23a9.8 9.8 0 01-3.49-1.26c-.96-.54-1.8-1.23-2.52-2.03-.72-.8-1.3-1.7-1.77-2.69-.47-.99-.8-2.06-1.02-3.13a.15.15 0 01.04-.15.24.24 0 01.2-.09c.64-.02 1.28-.04 1.92-.05 .1 0 .19-.01 .28-.01 .07 .01 .13 .02 .2 .04 .19 .04 .38 .09 .57 .14a5.2 5.2 0 005.02-5.22v-.02a.23 .23 0 00-.23-.23 .2 .2 0 00-.2-.02c-.83-.06-1.66-.13-2.49-.22-.05-.01-.1-.01-.15-.02-1.12-.13-2.25-.26-3.37-.44a.2 .2 0 01-.16-.24 .22 .22 0 01.23-.18c.41-.06 .82-.12 1.23-.18C9.9 .01 11.21 0 12.525 .02z"},null,-1)),zs=[js],Bs={key:3,class:"w-5 h-5 text-green-500",viewBox:"0 0 24 24",fill:"currentColor"},Is=r(()=>e("path",{d:"M20.52 3.48A11.94 11.94 0 0012.01 0C5.4 0 .03 5.37.03 12c0 2.11.55 4.09 1.6 5.86L0 24l6.3-1.63a11.9 11.9 0 005.7 1.45h.01c6.61 0 11.98-5.37 11.98-12 0-3.2-1.25-6.2-3.47-8.34zM12 21.5c-1.8 0-3.56-.48-5.1-1.38l-.37-.22-3.74.97.99-3.65-.24-.38A9.5 9.5 0 1121.5 12c0 5.24-4.26 9.5-9.5 9.5zm5.28-6.92c-.29-.15-1.7-.84-1.96-.94-.26-.1-.45-.15-.64 .15-.19 .29-.74 .94-.9 1.13-.17 .19-.33 .22-.62 .07-.29-.15-1.24-.46-2.35-1.47-.86-.76-1.44-1.7-1.61-1.99-.17-.29-.02-.45 .13-.6 .13-.13 .29-.33 .43-.5 .15-.17 .19-.29 .29-.48 .1-.19 .05-.36-.03-.51-.08-.15-.64-1.55-.88-2.12-.23-.55-.47-.48-.64-.49l-.55-.01c-.19 0 -.5.07-.76 .36-.26 .29-1 1-1 2.45s1.02 2.84 1.16 3.03c.15 .19 2 3.06 4.84 4.29 .68 .29 1.21 .46 1.62 .59 .68 .22 1.3 .19 1.79 .12 .55-.08 1.7-.7 1.94-1.38 .24-.68 .24-1.26 .17-1.38-.07-.12-.26-.19-.55-.34z"},null,-1)),Ps=[Is],Ls={key:4,class:"w-5 h-5 text-gray-700",viewBox:"0 0 24 24",fill:"currentColor"},Ns=r(()=>e("path",{d:"M12 5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm0 5.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM13.5 19a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"},null,-1)),$s=[Ns],As={key:0,class:"w-6 h-6 transition-opacity duration-200",viewBox:"0 0 24 24",fill:"currentColor"},Ts=r(()=>e("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2c-3.18-.35-6.2-1.63-8.82-3.68a19.86 19.86 0 0 1-6.24-6.24C2.7 9.38 1.42 6.36 1.07 3.18A2 2 0 0 1 3.06 1h3a2 2 0 0 1 2 1.72c.09.74.25 1.46.46 2.16a2 2 0 0 1-.45 2.06L7.5 8.5a16 16 0 0 0 8 8l1.56-1.57a2 2 0 0 1 2.06-.45c.7.21 1.42.37 2.16.46A2 2 0 0 1 22 16.92z"},null,-1)),Os=[Ts],Ds={key:1,class:"w-6 h-6 transition-opacity duration-200",viewBox:"0 0 24 24",fill:"currentColor"},Fs=r(()=>e("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)),qs=[Fs],Vs={class:"fixed bottom-6 right-6 z-50"},Xs=r(()=>e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M3 3h2l.4 2M7 13h10l3.6-7H6.4M7 13L5.4 6M7 13l-2 9m12-9l2 9M9 22a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z"})],-1)),Gs={key:0,class:"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},Rs={__name:"ProductList",props:{products:Object,store:Object,categories:Array,filters:Object},setup(h){const E=d(new Map),g=d([]),T=d(!1),te=m(()=>g.value.length?g.value[g.value.length-1].id:null),se=m(()=>g.value.length?g.value[g.value.length-1].name:"CategorÃ­as"),H=m(()=>te.value?E.value.get(te.value)||[]:i.categories),he=async t=>{if(t.has_children_with_products&&(g.value.push({id:t.id,name:t.name}),!E.value.has(t.id))){T.value=!0;const s=await(await fetch(route("catalog.categories.children",{store:i.store.slug,category:t.id}))).json();E.value.set(t.id,Array.isArray(s.data)?s.data:[]),T.value=!1}},ve=()=>{g.value.length&&g.value.pop()},i=h,w=d(i.filters.search),y=d(!1),f=d(!1);d({}),d(new Set);const pe=t=>{b.get(route("catalogo.index",{store:i.store.slug}),{category:t,search:w.value||void 0},{preserveState:!0,replace:!0,preserveScroll:!0}),f.value=!1},ge=()=>{const t=(H.value||[]).map(o=>o.id);b.get(route("catalogo.index",{store:i.store.slug}),{categories:t.join(",")},{preserveState:!0,replace:!0,preserveScroll:!0}),f.value=!1},oe=d(null),U=()=>{y.value=!y.value,y.value?W(()=>{oe.value.focus()}):w.value=""},me=()=>{w.value||U()},j=t=>i.store?.promo_active&&i.store?.promo_discount_percent||t.promo_active&&t.promo_discount_percent,O=t=>i.store?.promo_active&&i.store?.promo_discount_percent?Number(i.store.promo_discount_percent):t.promo_active&&t.promo_discount_percent?Number(t.promo_discount_percent):0,ae=m(()=>{try{const t=Number(i.store?.promo_discount_percent||0);return!!i.store?.promo_active&&t>0}catch{return!1}}),fe=m(()=>{try{return(i.products?.data||[]).some(o=>!!o?.promo_active&&Number(o?.promo_discount_percent||0)>0)}catch{return!1}}),D=m(()=>{let t=ae.value?Number(i.store.promo_discount_percent):0;try{const o=i.products?.data||[];for(const s of o){const p=Number(s?.promo_discount_percent||0);s?.promo_active&&p>0&&(t=Math.max(t,p))}}catch{}return t}),F=m(()=>ae.value||fe.value),le=()=>{b.get(route("catalogo.index",{store:i.store.slug}),{promo:1},{preserveState:!0,replace:!0,preserveScroll:!0}),f.value=!1};X(w,t=>{setTimeout(()=>{b.get(route("catalogo.index",{store:i.store.slug}),{search:t},{preserveState:!0,replace:!0,preserveScroll:!0})},500)});const J=d(!1);b.on("start",()=>{J.value=!0}),b.on("finish",()=>{J.value=!1});const q=d(0),z=d(!1);X(f,t=>{t?(g.value=[],T.value=!1,z.value=!1,q.value++,W(()=>{setTimeout(()=>{z.value=!0},50)})):z.value=!1}),X(H,()=>{f.value&&(z.value=!1,q.value++,W(()=>{setTimeout(()=>{z.value=!0},50)}))});const _e=t=>{try{return t&&t.track_inventory===!1?!1:Number(t?.quantity||0)<=0}catch{return!1}},xe=t=>{try{if(t&&t.track_inventory===!1)return!1;const o=Number(t?.quantity||0),s=Number(t?.alert||0);return o<=0||s<=0?!1:o<=s}catch{return!1}},P=d(!1),be=m(()=>{try{const t=(i.store?.phone??"").toString().replace(/[^0-9]/g,"");return!!(i.store?.facebook_url||i.store?.instagram_url||i.store?.tiktok_url||t)}catch{return!1}}),re=m(()=>{const t=[],o=i.store||{},s=(o.facebook_url??"").toString().trim(),p=(o.instagram_url??"").toString().trim(),B=(o.tiktok_url??o.tiktok??o.tik_tok_url??"").toString().trim(),ue=(o.phone??"").toString().replace(/[^0-9]/g,"");return s&&t.push({key:"fb",href:s,iconClass:"text-blue-500"}),p&&t.push({key:"ig",href:p,iconClass:"text-pink-500"}),B&&t.push({key:"tt",href:B,iconClass:"text-black"}),ue&&t.push({key:"wa",href:`https://wa.me/${ue}`,iconClass:"text-green-500"}),t});m(()=>{const t=re.value,o=66;return t.map((s,p)=>({...s,style:`transform: translate(0, -${o*(p+1)}px)`}))});const n=m(()=>{const t=i.products?.data||[],o=t.filter(s=>j(s)).slice(0,5);if(o.length<5){const s=t.filter(p=>!o.some(B=>B.id===p.id)).slice(0,5-o.length);return[...o,...s]}return o.slice(0,5)}),u=d(0),k=d(null),we=d(null),_=d(!1),V=d(0),L=d(0),C=d(0),K=()=>{n.value.length>0&&!_.value&&(u.value=(u.value+1)%n.value.length)},ne=()=>{n.value.length>0&&!_.value&&(u.value=u.value===0?n.value.length-1:u.value-1)},ye=t=>{u.value=t,N()},N=()=>{k.value&&clearInterval(k.value),n.value.length>1&&!_.value&&(k.value=setInterval(K,3e3))},ie=t=>{if(t.target.closest("button")&&window.innerWidth>=768)return;_.value=!0;const o=t.touches?t.touches[0].clientX:t.clientX;V.value=o,L.value=o,C.value=0,k.value&&clearInterval(k.value)},ce=t=>{if(!_.value)return;t.preventDefault();const o=t.touches?t.touches[0].clientX:t.clientX;L.value=o,C.value=L.value-V.value},Q=t=>{if(!_.value)return;if(Math.abs(C.value)<5){_.value=!1,V.value=0,L.value=0,C.value=0,N();return}const o=50,s=C.value;Math.abs(s)>o&&(s>0?ne():K()),_.value=!1,V.value=0,L.value=0,C.value=0,setTimeout(()=>{N()},300)},ke=t=>{b.post(route("cart.store"),{product_id:t.id,product_variant_id:null,quantity:1},{preserveScroll:!0,onSuccess:()=>{b.visit(route("checkout.index",{store:i.store.slug}),{preserveScroll:!1})}})};return Me(()=>{N()}),Se(()=>{k.value&&clearInterval(k.value)}),X(n,()=>{N()}),(t,o)=>(a(),l(I,null,[M(G(je),{title:`CatÃ¡logo de ${h.store.name}`},{default:x(()=>[Ae,Te,Oe]),_:1},8,["title"]),F.value?(a(),l("div",De,[e("button",{onClick:le,class:"w-full py-2 sm:py-3 shadow-lg hover:bg-red-600/70 transition-all"},[e("div",Fe,[e("div",qe,[e("span",Ve,[Xe,S(" Ofertas hasta "+v(D.value)+"% ",1),Ge,S(" Toca para ver "),Re]),e("span",Ee,[He,S(" Ofertas hasta "+v(D.value)+"% ",1),Ue,S(" Toca para ver "),Je]),e("span",Ke,[Qe,S(" Ofertas hasta "+v(D.value)+"% ",1),We,S(" Toca para ver "),Ze])])])])])):c("",!0),e("header",{class:$(["bg-white shadow-sm sticky z-50",F.value?"top-[44px] sm:top-[52px]":"top-0"])},[e("nav",Ye,[e("button",{onClick:o[0]||(o[0]=s=>f.value=!0),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors z-10 flex-shrink-0","aria-label":"Abrir menÃº"},tt),e("div",{class:$(["absolute left-1/2 flex items-center justify-center z-10 transition-all duration-300 ease-out",y.value?"opacity-0 scale-75 pointer-events-none":"opacity-100 scale-100 pointer-events-auto"]),style:Z(y.value?"transform: translate(-50%, 0) translateX(-100px)":"transform: translate(-50%, 0)")},[h.store.logo_url?(a(),l("img",{key:0,src:h.store.logo_url,alt:`Logo de ${h.store.name}`,class:"h-12 w-12 sm:h-14 sm:w-14 md:h-16 md:w-16 rounded-full object-cover ring-2 ring-gray-100 shadow-sm"},null,8,st)):c("",!0)],6),e("div",ot,[M(R,{name:"search-expand"},{default:x(()=>[y.value?(a(),l("div",nt,[de(e("input",{ref_key:"searchInput",ref:oe,"onUpdate:modelValue":o[1]||(o[1]=s=>w.value=s),type:"text",placeholder:"Buscar...",onBlur:me,class:"border border-gray-300 rounded-lg px-4 py-2 text-sm flex-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"},null,544),[[ze,w.value]]),e("button",{onClick:U,class:"p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0","aria-label":"Cerrar bÃºsqueda"},ct)])):(a(),l("div",at,[e("button",{onClick:U,class:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Buscar"},rt)]))]),_:1})])])],2),e("main",{class:$(["container mx-auto px-6 py-12",F.value?"pt-16 sm:pt-20":"pt-12"])},[n.value.length>0&&!y.value&&!w.value?(a(),l("div",{key:0,ref_key:"galleryContainer",ref:we,class:"mb-8 relative overflow-hidden rounded-2xl shadow-xl md:cursor-default cursor-grab active:cursor-grabbing",onTouchstart:ie,onTouchmove:ce,onTouchend:Q,onMousedown:ie,onMousemove:ce,onMouseup:Q,onMouseleave:Q},[n.value.length>1?(a(),l("button",{key:0,onClick:ne,class:"hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 backdrop-blur-sm hover:bg-white text-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all transform hover:scale-110 active:scale-95","aria-label":"Anterior"},dt)):c("",!0),n.value.length>1?(a(),l("button",{key:1,onClick:K,class:"hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 backdrop-blur-sm hover:bg-white text-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all transform hover:scale-110 active:scale-95","aria-label":"Siguiente"},vt)):c("",!0),e("div",pt,[e("div",gt,[M(R,{name:"slide-fade",mode:"out-in"},{default:x(()=>[n.value[u.value]?(a(),l("div",{key:`${n.value[u.value].id}-${u.value}`,class:"absolute inset-0 gallery-slide",style:Z(_.value?{transform:`translateX(${C.value}px)`,transition:"none"}:{})},[n.value[u.value]?(a(),l("div",mt,[e("div",ft,[n.value[u.value].main_image_url?(a(),l("img",{key:0,src:n.value[u.value].main_image_url,alt:n.value[u.value].name,class:"w-full h-full object-cover object-center"},null,8,_t)):c("",!0)]),e("div",xt,[e("div",bt,[e("h3",wt,v(n.value[u.value].name),1),e("div",yt,[e("p",kt,v(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(j(n.value[u.value])?Math.round(n.value[u.value].price*(100-O(n.value[u.value]))/100):n.value[u.value].price)),1),j(n.value[u.value])?(a(),l("span",Ct," -"+v(O(n.value[u.value]))+"% ",1)):c("",!0)])]),e("div",Mt,[e("button",{onClick:o[2]||(o[2]=s=>ke(n.value[u.value])),class:"bg-white/80 backdrop-blur-sm text-gray-900 font-bold py-3 px-6 sm:px-8 rounded-full shadow-2xl hover:bg-white/90 transition-all transform hover:scale-105 active:scale-95 text-base sm:text-lg md:text-xl border-2 border-gray-200"}," COMPRAR ")])])])):c("",!0)],4)):c("",!0)]),_:1})]),n.value.length>1?(a(),l("div",St,[(a(!0),l(I,null,A(n.value,(s,p)=>(a(),l("button",{key:s.id,onClick:B=>ye(p),class:$([u.value===p?"bg-white w-8":"bg-white/50 w-2","h-2 rounded-full transition-all duration-300"]),"aria-label":`Ir a slide ${p+1}`},null,10,jt))),128))])):c("",!0)])],544)):c("",!0),M(R,{name:"drawer"},{default:x(()=>[f.value?(a(),l("div",zt,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o[3]||(o[3]=s=>f.value=!1)}),e("div",Bt,[e("div",It,[e("div",Pt,[g.value.length?(a(),l("button",{key:0,onClick:ve,class:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Volver"},Nt)):c("",!0),e("h3",$t,v(se.value),1)]),e("button",{onClick:o[4]||(o[4]=s=>f.value=!1),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Cerrar"},Tt)]),e("div",Ot,[e("div",Dt,[e("div",Ft,v(se.value),1),e("button",{onClick:ge,class:"text-xs font-semibold text-blue-600 hover:underline"},"Ver todo")]),F.value?(a(),l("div",qt,[e("button",{class:"w-full flex items-center justify-between rounded-lg px-3 py-2 bg-red-50 hover:bg-red-100 active:scale-[.99] transition border border-red-200",onClick:le},[Vt,e("span",Xt,"Hasta "+v(D.value)+"%",1)])])):c("",!0),T.value?(a(),l("div",Gt,"Cargando...")):c("",!0),de(e("div",null,[(a(),Y(Be,{name:"menu-item",tag:"div",key:q.value},{default:x(()=>[(a(!0),l(I,null,A(H.value,(s,p)=>(a(),l("div",{key:`${s.id}-${q.value}`,class:"menu-item-wrapper",style:Z({"--i":p})},[e("button",{class:"w-full flex items-center justify-between rounded-lg px-3 py-2 hover:bg-gray-50 active:scale-[.99] transition-all duration-200",onClick:B=>s.has_children_with_products?he(s):pe(s.id)},[e("span",Et,v(s.name),1),e("div",Ht,[e("span",Ut,v(s.products_count),1),s.has_children_with_products?(a(),l("span",Jt,"â€º")):c("",!0)])],8,Rt)],4))),128))]),_:1}))],512),[[Ie,z.value]])])])])):c("",!0)]),_:1}),J.value?(a(),l("div",Kt,[(a(),l(I,null,A(6,s=>e("div",{key:s,class:"animate-pulse border rounded-xl shadow-sm overflow-hidden bg-white"},Wt)),64))])):h.products.data.length>0?(a(),l("div",Zt,[(a(!0),l(I,null,A(h.products.data,s=>(a(),Y(G(ee),{key:s.id,href:t.route("catalogo.show",{store:h.store.slug,product:s.id}),class:"group block border rounded-xl shadow-sm overflow-hidden bg-white hover:shadow-md transition"},{default:x(()=>[e("div",Yt,[s.main_image_url?(a(),l("img",{key:0,src:s.main_image_url,alt:"Imagen del producto",class:"w-full h-40 sm:h-48 md:h-56 object-cover transform group-hover:scale-105 transition duration-300"},null,8,es)):c("",!0),_e(s)?(a(),l("span",ts,"Agotado")):xe(s)?(a(),l("span",ss,"Â¡Pocas unidades!")):c("",!0)]),e("div",os,[e("h3",as,v(s.name),1),e("div",ls,[e("p",rs,v(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(j(s)?Math.round(s.price*(100-O(s))/100):s.price)),1),j(s)?(a(),l("span",ns," -"+v(O(s))+"% ",1)):c("",!0)]),j(s)?(a(),l("p",is,v(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(s.price)),1)):c("",!0)])]),_:2},1032,["href"]))),128))])):(a(),l("div",cs,[e("div",us,[ds,hs,M(G(ee),{href:t.route("catalogo.index",{store:h.store.slug}),class:"mt-4 inline-block text-blue-600 hover:underline font-semibold"},{default:x(()=>[S(" Limpiar filtros ")]),_:1},8,["href"])])])),h.products.data.length>0?(a(),Y($e,{key:4,class:"mt-8",links:h.products.links},null,8,["links"])):c("",!0)],2),e("footer",vs,[e("div",ps,[e("p",null,"Â© 2025 "+v(h.store.name),1)])]),be.value?(a(),l("div",gs,[e("div",ms,[M(R,{name:"fade"},{default:x(()=>[P.value?(a(),l("div",fs,[(a(!0),l(I,null,A(re.value,s=>(a(),l("a",{key:s.key,href:s.href,target:"_blank",class:"w-11 h-11 rounded-full bg-white/70 backdrop-blur ring-1 ring-blue-500/50 flex items-center justify-center shadow-2xl active:scale-95"},[s.key==="fb"?(a(),l("svg",xs,ws)):s.key==="ig"?(a(),l("svg",ys,Ms)):s.key==="tt"?(a(),l("svg",Ss,zs)):s.key==="wa"?(a(),l("svg",Bs,Ps)):(a(),l("svg",Ls,$s))],8,_s))),128))])):c("",!0)]),_:1}),e("button",{onClick:o[5]||(o[5]=s=>P.value=!P.value),class:$(["w-12 h-12 rounded-full bg-blue-600/70 backdrop-blur ring-1 ring-blue-500/50 text-white flex items-center justify-center shadow-2xl active:scale-95 transition-transform duration-300",{"scale-95":P.value}])},[P.value?(a(),l("svg",Ds,qs)):(a(),l("svg",As,Os))],2)])])):c("",!0),e("div",Vs,[M(G(ee),{href:t.route("cart.index",{store:h.store.slug}),class:"relative w-12 h-12 rounded-full bg-blue-600/70 backdrop-blur ring-1 ring-blue-500/50 text-white flex items-center justify-center shadow-2xl active:scale-95"},{default:x(()=>[Xs,t.$page.props.cart.count>0?(a(),l("span",Gs,v(t.$page.props.cart.count),1)):c("",!0)]),_:1},8,["href"])])],64))}},Us=Ce(Rs,[["__scopeId","data-v-cdce5490"]]);export{Us as default};

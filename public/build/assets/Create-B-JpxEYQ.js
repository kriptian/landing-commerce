import{p as C,r as w,a,o as l,b as u,u as t,h as U,d as y,e,s as V,g as d,f as p,v as f,t as i,F as g,i as $,x as S}from"./app-9mQJuWzP.js";import{_ as q}from"./AuthenticatedLayout-DnHW7twC.js";import{_}from"./AlertModal-c2YCcOTS.js";import"./Modal-CBuPActV.js";const E={class:"py-12"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"mb-4"},z={key:0,class:"text-sm text-red-600 mt-2"},A={class:"mb-4"},D={key:0,class:"text-sm text-red-600 mt-2"},P={class:"mb-4"},R=["value"],T={key:0,class:"text-sm text-red-600 mt-2"},j={class:"mb-4"},G={key:0,class:"text-sm text-red-600 mt-2"},H={class:"mb-4"},I={class:"flex items-center justify-end mt-6 border-t pt-6"},J=["disabled"],K="573208204198",Y={__name:"Create",props:{roles:Array},setup(x){const b=x,o=C({name:"",email:"",password:"",password_confirmation:"",role:b.roles.length>0?b.roles[0]:""}),h=()=>{o.post(route("admin.users.store"),{onSuccess:()=>{window.location=route("admin.users.index")},onError:m=>{m&&m.limit&&(n.value=!0,v.value=m.limit)},onFinish:()=>o.reset("password","password_confirmation")})},n=w(!1),v=w(""),c=w(!1),k=`https://wa.me/${K}?text=${encodeURIComponent("Hola, necesito ampliar mis licencias de usuarios.")}`;return(m,s)=>(l(),a(g,null,[u(t(U),{title:"Crear Usuario"}),u(q,null,{header:y(()=>[...s[9]||(s[9]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Crear Nuevo Usuario",-1)])]),default:y(()=>[e("div",E,[e("div",M,[e("div",N,[e("div",F,[e("form",{onSubmit:V(h,["prevent"])},[e("div",B,[e("div",null,[e("div",L,[s[10]||(s[10]=e("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1)),d(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=r=>t(o).name=r),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[f,t(o).name]]),t(o).errors.name?(l(),a("p",z,i(t(o).errors.name),1)):p("",!0)]),e("div",A,[s[11]||(s[11]=e("label",{for:"email",class:"block font-medium text-sm text-gray-700"},"Email",-1)),d(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=r=>t(o).email=r),type:"email",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[f,t(o).email]]),t(o).errors.email?(l(),a("p",D,i(t(o).errors.email),1)):p("",!0)]),e("div",P,[s[12]||(s[12]=e("label",{for:"role",class:"block font-medium text-sm text-gray-700"},"Rol",-1)),d(e("select",{id:"role","onUpdate:modelValue":s[2]||(s[2]=r=>t(o).role=r),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},[(l(!0),a(g,null,$(x.roles,r=>(l(),a("option",{key:r,value:r},i(r),9,R))),128))],512),[[S,t(o).role]]),t(o).errors.role?(l(),a("p",T,i(t(o).errors.role),1)):p("",!0)])]),e("div",null,[e("div",j,[s[13]||(s[13]=e("label",{for:"password",class:"block font-medium text-sm text-gray-700"},"Contraseña",-1)),d(e("input",{id:"password","onUpdate:modelValue":s[3]||(s[3]=r=>t(o).password=r),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[f,t(o).password]]),t(o).errors.password?(l(),a("p",G,i(t(o).errors.password),1)):p("",!0)]),e("div",H,[s[14]||(s[14]=e("label",{for:"password_confirmation",class:"block font-medium text-sm text-gray-700"},"Confirmar Contraseña",-1)),d(e("input",{id:"password_confirmation","onUpdate:modelValue":s[4]||(s[4]=r=>t(o).password_confirmation=r),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[f,t(o).password_confirmation]])])])]),e("div",I,[e("button",{type:"submit",disabled:t(o).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Guardar Usuario ",8,J)])],32)])])])]),u(_,{show:n.value,type:"error",title:"Límite de licencias alcanzado",message:v.value||"Tu plan alcanzó el máximo de usuarios. Contactá al administrador para ampliar licencias.","primary-text":"Contactar","primary-href":k,"secondary-text":"Entendido",onClose:s[5]||(s[5]=r=>n.value=!1),onSecondary:s[6]||(s[6]=r=>n.value=!1)},null,8,["show","message"]),u(_,{show:c.value,type:"success",title:"¡Usuario creado con éxito!","primary-text":"Entendido",onPrimary:s[7]||(s[7]=r=>c.value=!1),onClose:s[8]||(s[8]=r=>c.value=!1)},null,8,["show"])]),_:1})],64))}};export{Y as default};

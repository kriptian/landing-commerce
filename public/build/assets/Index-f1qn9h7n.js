import{_ as b}from"./AuthenticatedLayout-D7Yb8bmF.js";import{r as n,a as d,o as c,b as s,u as _,h as C,d as o,e,l as g,m as h,f as k,F as f,i as N,t as y,j as E}from"./app-1McBFp1T.js";import{_ as A}from"./Modal-GP-28cde.js";import{_ as D}from"./SecondaryButton-B6YG8noK.js";import{D as $}from"./DangerButton-CFlXY-dj.js";import{_ as B}from"./AlertModal-DiQ7T1JD.js";const M=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Categorías",-1),V={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},L={class:"p-6 text-gray-900"},q={class:"flex justify-between items-center mb-4"},z=e("p",null,"Aquí podés crear, editar y eliminar las categorías de tus productos.",-1),F={class:"overflow-x-auto"},G={class:"min-w-[600px] w-full divide-y divide-gray-200 table-auto"},H=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nombre"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1),I={class:"bg-white divide-y divide-gray-200"},T={key:0},P=e("td",{colspan:"3",class:"px-3 py-3 sm:px-6 sm:py-4 text-center text-gray-500"},"No hay categorías creadas.",-1),J=[P],K={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},O={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},Q={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap text-sm font-medium"},R={class:"flex items-center gap-2"},U=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16.862 3.487a2.25 2.25 0 113.182 3.182L9.428 17.284a3.75 3.75 0 01-1.582.992l-2.685.805a.75.75 0 01-.93-.93l.805-2.685a3.75 3.75 0 01.992-1.582L16.862 3.487z"}),e("path",{d:"M15.75 4.5l3.75 3.75"})],-1),W=["onClick"],X=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.5V6h3.75a.75.75 0 010 1.5H3.75A.75.75 0 013 6h3.75V4.5A2.25 2.25 0 019 2.25h6A2.25 2.25 0 0117.25 4.5zM5.625 7.5h12.75l-.701 10.518A2.25 2.25 0 0115.43 20.25H8.57a2.25 2.25 0 01-2.244-2.232L5.625 7.5z","clip-rule":"evenodd"})],-1),Y=[X],Z={class:"p-6"},ee=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que querés eliminar esta categoría? ",-1),te=e("p",{class:"mt-1 text-sm text-gray-600"}," Esta acción es irreversible. Se borrará la categoría y todas sus subcategorías. ",-1),se={class:"mt-6 flex justify-end"},ce={__name:"Index",props:{categories:Array},setup(x){const r=n(!1),u=n(""),m=n(!1),p=n(null),v=t=>{p.value=t,m.value=!0},i=()=>{m.value=!1,p.value=null},w=()=>{E.delete(route("admin.categories.destroy",p.value),{preserveScroll:!0,onSuccess:()=>{i(),u.value="¡Categoría eliminada con éxito!",r.value=!0},onError:t=>{i();const l=t&&(t.delete||t.message)||"No se pudo eliminar: existen productos asociados.";u.value=l,r.value=!0}})};return(t,l)=>(c(),d(f,null,[s(_(C),{title:"Gestionar Categorías"}),s(b,null,{header:o(()=>[M]),default:o(()=>[e("div",V,[e("div",j,[e("div",S,[e("div",L,[e("div",q,[z,s(_(g),{href:t.route("admin.categories.create"),class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"},{default:o(()=>[h(" Crear Nueva ")]),_:1},8,["href"])]),e("div",F,[e("table",G,[H,e("tbody",I,[x.categories.length===0?(c(),d("tr",T,J)):k("",!0),(c(!0),d(f,null,N(x.categories,a=>(c(),d("tr",{key:a.id},[e("td",K,y(a.id),1),e("td",O,y(a.name),1),e("td",Q,[e("div",R,[s(_(g),{href:t.route("admin.categories.edit",a.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-indigo-600",title:"Editar"},{default:o(()=>[U]),_:2},1032,["href"]),e("button",{onClick:ae=>v(a.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-red-600",title:"Eliminar"},Y,8,W)])])]))),128))])])])])])])])]),_:1}),s(A,{show:m.value,onClose:i},{default:o(()=>[e("div",Z,[ee,te,e("div",se,[s(D,{onClick:i},{default:o(()=>[h(" Cancelar ")]),_:1}),s($,{class:"ms-3",onClick:w},{default:o(()=>[h(" Sí, Eliminar Categoría ")]),_:1})])])]),_:1},8,["show"]),s(B,{show:r.value,type:"error",title:"Categorías",message:u.value,"primary-text":"Entendido",onPrimary:l[0]||(l[0]=a=>r.value=!1),onClose:l[1]||(l[1]=a=>r.value=!1)},null,8,["show","message"])],64))}};export{ce as default};

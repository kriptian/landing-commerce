import{p as C,r as _,a as r,o as l,b as u,u as o,h as U,d as v,e,s as V,g as d,f as c,v as p,t as i,F as h,i as $,x as S}from"./app-BgZMFxY_.js";import{_ as q}from"./AuthenticatedLayout-Dy5PPPF_.js";import{_ as y}from"./AlertModal-D2syu_6g.js";import"./Modal-CjGJwa8b.js";const E=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Crear Nuevo Usuario",-1),M={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 text-gray-900"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={class:"mb-4"},A=e("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1),D={key:0,class:"text-sm text-red-600 mt-2"},P={class:"mb-4"},R=e("label",{for:"email",class:"block font-medium text-sm text-gray-700"},"Email",-1),T={key:0,class:"text-sm text-red-600 mt-2"},j={class:"mb-4"},G=e("label",{for:"role",class:"block font-medium text-sm text-gray-700"},"Rol",-1),H=["value"],I={key:0,class:"text-sm text-red-600 mt-2"},J={class:"mb-4"},K=e("label",{for:"password",class:"block font-medium text-sm text-gray-700"},"Contraseña",-1),O={key:0,class:"text-sm text-red-600 mt-2"},Q={class:"mb-4"},W=e("label",{for:"password_confirmation",class:"block font-medium text-sm text-gray-700"},"Confirmar Contraseña",-1),X={class:"flex items-center justify-end mt-6 border-t pt-6"},Y=["disabled"],Z="573208204198",ae={__name:"Create",props:{roles:Array},setup(w){const x=w,s=C({name:"",email:"",password:"",password_confirmation:"",role:x.roles.length>0?x.roles[0]:""}),g=()=>{s.post(route("admin.users.store"),{onSuccess:()=>{window.location=route("admin.users.index")},onError:m=>{m&&m.limit&&(n.value=!0,b.value=m.limit)},onFinish:()=>s.reset("password","password_confirmation")})},n=_(!1),b=_(""),f=_(!1),k=`https://wa.me/${Z}?text=${encodeURIComponent("Hola, necesito ampliar mis licencias de usuarios.")}`;return(m,t)=>(l(),r(h,null,[u(o(U),{title:"Crear Usuario"}),u(q,null,{header:v(()=>[E]),default:v(()=>[e("div",M,[e("div",N,[e("div",F,[e("div",B,[e("form",{onSubmit:V(g,["prevent"])},[e("div",L,[e("div",null,[e("div",z,[A,d(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).name=a),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(s).name]]),o(s).errors.name?(l(),r("p",D,i(o(s).errors.name),1)):c("",!0)]),e("div",P,[R,d(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=a=>o(s).email=a),type:"email",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(s).email]]),o(s).errors.email?(l(),r("p",T,i(o(s).errors.email),1)):c("",!0)]),e("div",j,[G,d(e("select",{id:"role","onUpdate:modelValue":t[2]||(t[2]=a=>o(s).role=a),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},[(l(!0),r(h,null,$(w.roles,a=>(l(),r("option",{key:a,value:a},i(a),9,H))),128))],512),[[S,o(s).role]]),o(s).errors.role?(l(),r("p",I,i(o(s).errors.role),1)):c("",!0)])]),e("div",null,[e("div",J,[K,d(e("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=a=>o(s).password=a),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(s).password]]),o(s).errors.password?(l(),r("p",O,i(o(s).errors.password),1)):c("",!0)]),e("div",Q,[W,d(e("input",{id:"password_confirmation","onUpdate:modelValue":t[4]||(t[4]=a=>o(s).password_confirmation=a),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(s).password_confirmation]])])])]),e("div",X,[e("button",{type:"submit",disabled:o(s).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Guardar Usuario ",8,Y)])],32)])])])]),u(y,{show:n.value,type:"error",title:"Límite de licencias alcanzado",message:b.value||"Tu plan alcanzó el máximo de usuarios. Contactá al administrador para ampliar licencias.","primary-text":"Contactar","primary-href":k,"secondary-text":"Entendido",onClose:t[5]||(t[5]=a=>n.value=!1),onSecondary:t[6]||(t[6]=a=>n.value=!1)},null,8,["show","message"]),u(y,{show:f.value,type:"success",title:"¡Usuario creado con éxito!","primary-text":"Entendido",onPrimary:t[7]||(t[7]=a=>f.value=!1),onClose:t[8]||(t[8]=a=>f.value=!1)},null,8,["show"])]),_:1})],64))}};export{ae as default};

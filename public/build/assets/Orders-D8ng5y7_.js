import{a as o,o as s,b as h,f as e,d as c,h as j,i as r,t as n,e as p,m as _,l as g,g as M,z,F as d,p as m,q as x,Q as b,y as B,s as V}from"./app-CNn28wTC.js";const L={class:"bg-white shadow-sm sticky top-0 z-40"},D={class:"container mx-auto px-6 py-4 flex items-center justify-between"},F={class:"flex items-center gap-3"},O=["src","alt"],T={class:"text-lg font-medium text-gray-600"},$={class:"flex items-center gap-4"},E=e("button",{type:"submit",class:"text-sm text-red-600 hover:text-red-700 font-medium"}," Cerrar sesión ",-1),N=[E],P={class:"container mx-auto px-6 py-12"},S={class:"max-w-4xl mx-auto"},q=e("h2",{class:"text-3xl font-bold text-gray-900 mb-8"},"Mis Pedidos",-1),H={key:0,class:"space-y-6"},A={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},I={class:"flex items-center justify-between"},R={class:"text-lg font-semibold text-gray-900"},Q={class:"text-sm text-gray-600 mt-1"},U={class:"text-right"},G={class:"text-xl font-bold text-gray-900"},J=["onClick"],K={class:"px-6 py-6"},W={class:"relative"},X=e("div",{class:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},null,-1),Y={class:"space-y-6"},Z={class:"relative flex items-start gap-4"},ee={class:"relative z-10 flex-shrink-0"},te={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),oe=[se],ae={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),ie=[ne],le=e("div",{class:"flex-1 pt-1"},[e("p",{class:"font-semibold text-gray-900"},"Recibido por la tienda"),e("p",{class:"text-sm text-gray-600"},"Tu pedido ha sido recibido y está siendo procesado")],-1),re={key:0,class:"relative flex items-start gap-4"},ce={class:"relative z-10 flex-shrink-0"},de=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),ue=[de],he=e("div",{class:"flex-1 pt-1"},[e("p",{class:"font-semibold text-gray-900"},"En preparación"),e("p",{class:"text-sm text-gray-600"},"Estamos preparando tu pedido")],-1),_e={key:1,class:"relative flex items-start gap-4"},ge={class:"relative z-10 flex-shrink-0"},me=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),xe=[me],ve=e("div",{class:"flex-1 pt-1"},[e("p",{class:"font-semibold text-gray-900"},"Despachado"),e("p",{class:"text-sm text-gray-600"},"Tu pedido ha sido enviado")],-1),pe={key:2,class:"relative flex items-start gap-4"},ye=b('<div class="relative z-10 flex-shrink-0"><div class="w-8 h-8 rounded-full flex items-center justify-center bg-orange-500 text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div><div class="flex-1 pt-1"><p class="font-semibold text-gray-900">En camino</p><p class="text-sm text-gray-600">Tu pedido está en camino a tu dirección</p></div>',2),fe=[ye],be={key:3,class:"relative flex items-start gap-4"},ke=b('<div class="relative z-10 flex-shrink-0"><div class="w-8 h-8 rounded-full flex items-center justify-center bg-green-500 text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div><div class="flex-1 pt-1"><p class="font-semibold text-gray-900">Entregado</p><p class="text-sm text-gray-600">Tu pedido ha sido entregado</p></div>',2),we=[ke],Ce={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},je=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Productos",-1),Me={class:"space-y-3"},ze=["src"],Be={class:"flex-1"},Ve={class:"font-medium text-gray-900"},Le={key:0,class:"text-sm text-gray-600 mt-1"},De={class:"text-sm text-gray-600"},Fe={class:"font-semibold text-gray-900"},Oe={key:0,class:"mt-4 pt-4 border-t border-gray-200"},Te={class:"flex justify-between items-center text-green-600"},$e={class:"font-medium"},Ee={class:"font-bold"},Ne={key:0,class:"px-6 py-4 border-t border-gray-200"},Pe=e("h4",{class:"font-semibold text-gray-900 mb-2"},"Dirección de Envío",-1),Se={class:"text-sm text-gray-600"},qe={key:1,class:"bg-white rounded-lg shadow-md p-12 text-center"},He=e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),Ae=e("p",{class:"text-gray-500 text-lg"},"Aún no has realizado ningún pedido",-1),Ie={key:2,class:"mt-6 flex justify-center"},Re={class:"flex gap-2"},Ue={__name:"Orders",props:{store:Object,customer:Object,orders:Object},setup(a){const y=a,k=i=>new Date(i).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(i),w=i=>{if(!y.store?.phone)return;const u=y.store.phone.replace(/[^0-9]/g,""),t=encodeURIComponent(`Hola, tengo una consulta sobre mi pedido #${i.sequence_number}`);window.open(`https://wa.me/${u}?text=${t}`,"_blank")};return(i,u)=>(s(),o(d,null,[h(c(j),{title:`Mis Pedidos - ${a.store.name}`},null,8,["title"]),e("div",{class:"min-h-screen",style:V(a.store?.catalog_body_bg_color?{backgroundColor:a.store.catalog_body_bg_color}:{backgroundColor:"#F9FAFB"})},[e("header",L,[e("nav",D,[e("div",F,[a.store?.logo_url?(s(),o("img",{key:0,src:a.store.logo_url,alt:`Logo de ${a.store.name}`,class:"h-10 w-10 rounded-full object-cover ring-2 ring-gray-100"},null,8,O)):r("",!0),e("h1",T,n(a.store.name),1)]),e("div",$,[h(c(g),{href:i.route("catalogo.index",{store:a.store.slug}),class:"text-sm text-gray-600 hover:text-gray-800"},{default:p(()=>[_(" Volver al catálogo ")]),_:1},8,["href"]),h(c(g),{href:i.route("customer.account",{store:a.store.slug}),class:"text-sm text-gray-600 hover:text-gray-800"},{default:p(()=>[_(" Mi Cuenta ")]),_:1},8,["href"]),e("form",{onSubmit:u[0]||(u[0]=M(t=>c(z).post(i.route("customer.logout",{store:a.store.slug})),["prevent"]))},N,32)])])]),e("main",P,[e("div",S,[q,a.orders.data&&a.orders.data.length>0?(s(),o("div",H,[(s(!0),o(d,null,m(a.orders.data,t=>(s(),o("div",{key:t.id,class:"bg-white rounded-lg shadow-md overflow-hidden"},[e("div",A,[e("div",I,[e("div",null,[e("h3",R,"Pedido #"+n(t.sequence_number),1),e("p",Q,n(k(t.created_at)),1)]),e("div",U,[e("p",G,n(v(t.total_price)),1),e("button",{onClick:l=>w(t),class:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium"}," Contactar vendedor ",8,J)])])]),e("div",K,[e("div",W,[X,e("div",Y,[e("div",Z,[e("div",ee,[e("div",{class:x(["w-8 h-8 rounded-full flex items-center justify-center",{"bg-blue-500 text-white":t.status==="recibido"||["en_preparacion","en_proceso","despachado","en_camino","entregado"].includes(t.status),"bg-gray-200 text-gray-400":t.status==="cancelado"}])},[t.status==="cancelado"?(s(),o("svg",te,oe)):(s(),o("svg",ae,ie))],2)]),le]),["en_preparacion","en_proceso","despachado","en_camino","entregado"].includes(t.status)?(s(),o("div",re,[e("div",ce,[e("div",{class:x(["w-8 h-8 rounded-full flex items-center justify-center",{"bg-yellow-500 text-white":["en_preparacion","en_proceso"].includes(t.status)||["despachado","en_camino","entregado"].includes(t.status),"bg-gray-200 text-gray-400":!1}])},ue,2)]),he])):r("",!0),["despachado","en_camino","entregado"].includes(t.status)?(s(),o("div",_e,[e("div",ge,[e("div",{class:x(["w-8 h-8 rounded-full flex items-center justify-center",{"bg-purple-500 text-white":t.status==="despachado"||["en_camino","entregado"].includes(t.status),"bg-gray-200 text-gray-400":!1}])},xe,2)]),ve])):r("",!0),["en_camino","entregado"].includes(t.status)?(s(),o("div",pe,fe)):r("",!0),t.status==="entregado"?(s(),o("div",be,we)):r("",!0)])])]),e("div",Ce,[je,e("div",Me,[(s(!0),o(d,null,m(t.items,l=>(s(),o("div",{key:l.id,class:"flex items-center gap-4"},[l.product?.main_image_url?(s(),o("img",{key:0,src:l.product.main_image_url,class:"w-16 h-16 object-cover rounded-lg"},null,8,ze)):r("",!0),e("div",Be,[e("p",Ve,n(l.product_name),1),l.variant_options?(s(),o("div",Le,[(s(!0),o(d,null,m(l.variant_options,(C,f)=>(s(),o("span",{key:f,class:"mr-2"},[e("strong",null,n(f)+":",1),_(" "+n(C),1)]))),128))])):r("",!0),e("p",De,"Cantidad: "+n(l.quantity),1)]),e("p",Fe,n(v(l.unit_price*l.quantity)),1)]))),128))]),t.discount_amount>0?(s(),o("div",Oe,[e("div",Te,[e("span",$e,"Descuento (Cupón"+n(t.coupon?": "+t.coupon.code:"")+")",1),e("span",Ee,"-"+n(v(t.discount_amount)),1)])])):r("",!0)]),t.address?(s(),o("div",Ne,[Pe,e("p",Se,n(t.address.address_line_1)+n(t.address.address_line_2?", "+t.address.address_line_2:"")+", "+n(t.address.city)+n(t.address.state?", "+t.address.state:""),1)])):r("",!0)]))),128))])):(s(),o("div",qe,[He,Ae,h(c(g),{href:i.route("catalogo.index",{store:a.store.slug}),class:"mt-4 inline-block text-blue-600 hover:text-blue-700 font-medium"},{default:p(()=>[_(" Ver catálogo ")]),_:1},8,["href"])])),a.orders.links&&a.orders.links.length>3?(s(),o("div",Ie,[e("nav",Re,[(s(!0),o(d,null,m(a.orders.links,t=>(s(),B(c(g),{key:t.label,href:t.url||"#",innerHTML:t.label,class:x(["px-3 py-2 rounded-md text-sm",{"bg-blue-600 text-white":t.active,"bg-gray-100 text-gray-700 hover:bg-gray-200":!t.active&&t.url,"bg-gray-50 text-gray-400 cursor-not-allowed":!t.url}])},null,8,["href","innerHTML","class"]))),128))])])):r("",!0)])])],4)],64))}};export{Ue as default};

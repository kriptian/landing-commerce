import{K as ke,r as _,q as Se,C as Ce,M as je,c as M,w as Ae,a as i,o as d,b as A,u as a,h as Oe,d as P,e as s,p as g,f as O,g as p,v as w,L as H,n as B,F as k,j as C,t as j,x as Z,i as F}from"./app-CdEBBWGl.js";import{_ as Ve}from"./AuthenticatedLayout-PmA-gZnP.js";import{_ as ee}from"./AlertModal-BlmVJJtF.js";import{_ as $e}from"./Modal-gcK9qcMR.js";import{_ as Ee}from"./SecondaryButton-DpPNSbPE.js";import{D as Pe}from"./DangerButton-B6vWHv1A.js";const Ue={class:"font-semibold text-xl text-gray-800 leading-tight"},Me={class:"py-12"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ie={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Te={class:"p-6 text-gray-900"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qe={class:"mb-4"},Ne=s("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1),Be={class:"mb-4"},Fe=s("label",{for:"price",class:"block font-medium text-sm text-gray-700"},"Precio (Principal)",-1),Ge={class:"inline-flex items-center gap-2 mb-3 select-none"},Le=s("span",{class:"font-semibold"},"Controlar inventario",-1),Re={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},We=s("label",{for:"quantity",class:"block font-medium text-sm text-gray-700"},"Inventario (Total)",-1),Je=["disabled"],Qe=s("label",{for:"alert_general",class:"block font-medium text-sm text-gray-700"},"Alerta (Opcional)",-1),Ke=["disabled"],Xe=s("label",{for:"purchase_price",class:"block font-medium text-sm text-gray-700"},"Precio de compra",-1),Ye=s("div",{class:"mb-2"},[s("label",{class:"block font-medium text-sm text-gray-700"},"Categorías")],-1),He={class:"space-y-3"},Ze=["onUpdate:modelValue","onChange"],et=s("option",{value:null},"Seleccione una categoría",-1),tt=["value"],st={class:"mb-4"},ot=s("label",{for:"short_description",class:"block font-medium text-sm text-gray-700"},"Descripción Corta",-1),lt={class:"mb-4"},nt=s("label",{for:"long_description",class:"block font-medium text-sm text-gray-700"},"Descripción Larga",-1),rt={class:"mb-4"},at=s("label",{for:"specifications",class:"block font-medium text-sm text-gray-700"},"Especificaciones (separadas por comas)",-1),it={class:"md:col-span-2 mt-6 border-t pt-6"},dt=s("h3",{class:"text-lg font-medium text-gray-900"},"Atributos de variantes",-1),ct=s("p",{class:"text-sm text-gray-600 mb-4"},'Definí atributos como "Color" y "Talla" y sus valores separados por comas. Podés regenerar combinaciones.',-1),ut={class:"mb-4 p-4 border rounded-md bg-gray-50"},mt={class:"space-y-2"},pt={class:"md:col-span-2"},ft=s("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1),ht=["onUpdate:modelValue"],vt={class:"md:col-span-3"},gt=s("label",{class:"block text-sm font-medium text-gray-700"},"Valores (separados por coma)",-1),_t=["onUpdate:modelValue"],yt={class:"md:col-span-5"},bt={class:"inline-flex items-center gap-2 text-sm"},xt=["onUpdate:modelValue"],wt=s("span",null,"Configurar dependencia",-1),kt={key:0,class:"md:col-span-5 grid grid-cols-1 md:grid-cols-5 gap-3 items-start"},St={class:"md:col-span-2"},Ct=s("label",{class:"block text-sm font-medium text-gray-700"},"Depende de",-1),jt=["onUpdate:modelValue"],At=s("option",{value:""},"(sin dependencia)",-1),Ot=["value","disabled"],Vt={key:0,class:"md:col-span-3"},$t=s("label",{class:"block text-sm font-medium text-gray-700"},"Permitir valores del hijo según el valor del padre",-1),Et={class:"mt-2 space-y-3"},Pt={class:"text-xs font-semibold text-gray-700 mb-2"},Ut={class:"flex flex-wrap gap-3"},Mt=["checked","onChange"],Dt=s("p",{class:"text-xs text-gray-500 mt-2"},"Si no seleccionas nada para un valor del padre, se permiten todos los valores del hijo.",-1),It={class:"md:col-span-5 flex gap-2"},Tt=["onClick"],zt={class:"mt-6 border-t pt-6"},qt={class:"p-4 border rounded-md bg-gray-50 col-span-2"},Nt={class:"flex items-center justify-between mb-2"},Bt=s("label",{class:"block font-medium text-sm text-gray-700"},"Imágenes actuales",-1),Ft={class:"text-xs text-gray-500"},Gt={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"},Lt=["onClick"],Rt=["src"],Wt=["onClick"],Jt={key:1,class:"text-sm text-gray-500 mt-2"},Qt={class:"mt-4 col-span-2"},Kt=s("label",{for:"new_gallery_files",class:"block font-medium text-sm text-gray-700"},"Añadir más imágenes",-1),Xt=s("p",{class:"mt-1 text-xs text-gray-500"},"Formatos de imagen y hasta 2 MB por archivo.",-1),Yt={class:"relative flex items-center justify-center bg-gray-50 border rounded-lg h-[60vh] min-h-[320px] mb-3 select-none"},Ht=["src"],Zt={class:"flex items-center gap-2 overflow-x-auto py-2"},es=["onClick"],ts=["src"],ss={class:"flex items-center justify-end mt-6 border-t pt-6"},os=["disabled"],ls={class:"p-6"},ns=s("h2",{class:"text-lg font-medium text-gray-900"}," ¿Deseás guardar los cambios del producto? ",-1),rs=s("p",{class:"mt-1 text-sm text-gray-600"}," Se actualizará la información y variantes del producto. ",-1),as={class:"mt-6 flex justify-end"},is=2*1024*1024,hs={__name:"Edit",props:{product:Object,categories:Array,selectedCategoryPath:Array},setup(te){const c=te,G=ke(),D=_(!!G?.props?.flash?.success);_(G?.props?.flash?.success||"");const U=_(!1),V=_(!1),I=_([]),se=o=>{const t=Array.from(o?.target?.files||[]),e=[],l=[];for(const n of t){if(!(n?.type||"").startsWith("image/")){e.push(`${n.name}: no es una imagen válida.`);continue}if(n.size>is){e.push(`${n.name}: supera el límite de 2 MB.`);continue}l.push(n)}if(e.length){I.value=["Problemas con las imágenes seleccionadas:",...e],V.value=!0,o?.target&&(o.target.value=""),r.new_gallery_files=[];return}r.new_gallery_files=l},f=_([{options:c.categories,selected:null}]),oe=async()=>{if(!Array.isArray(c.selectedCategoryPath)||c.selectedCategoryPath.length===0)return;for(let t=0;t<c.selectedCategoryPath.length;t++){const e=c.selectedCategoryPath[t];if(f.value[t]||(f.value[t]={options:[],selected:null}),t>0&&f.value[t].options.length===0){const l=f.value[t-1].selected;if(l){const u=await(await fetch(route("admin.categories.children",l))).json();f.value[t].options=Array.isArray(u.data)?u.data:[]}}f.value[t].selected=e.id,r.category_id=e.id,t<c.selectedCategoryPath.length-1&&(f.value[t+1]||(f.value[t+1]={options:[],selected:null}))}const o=r.category_id;if(o){const e=await(await fetch(route("admin.categories.children",o))).json(),l=Array.isArray(e.data)?e.data:[];l.length>0&&f.value.push({options:l,selected:null})}},le=o=>{f.value.splice(o+1)},ne=async o=>{const t=f.value[o].selected;if(le(o),r.category_id=t||null,!t)return;const e=await fetch(route("admin.categories.children",t));if(!e.ok)return;const l=await e.json(),n=Array.isArray(l.data)?l.data:[];n.length>0&&f.value.push({options:n,selected:null})},re=o=>Object.entries(o).map(([t,e])=>`${t}:${e}`).join(", "),ae=c.product.variants.map(o=>({id:o.id,options_text:re(o.options),price:o.price??"",purchase_price:o.purchase_price??null,retail_price:o.retail_price??null,stock:o.stock,alert:o.alert??null})),r=Se({_method:"PUT",name:c.product.name,price:c.product.price,purchase_price:c.product.purchase_price??null,track_inventory:c.product.track_inventory??!0,quantity:c.product.quantity,alert:c.product.alert??null,category_id:c.product.category_id,short_description:c.product.short_description,long_description:c.product.long_description,specifications:c.product.specifications?JSON.parse(c.product.specifications).join(", "):"",new_gallery_files:[],images_to_delete:[],variants:ae,variants_to_delete:[],variant_attributes:[]}),y=_([{name:"",valuesText:"",dependsOn:"",rules:{},rulesSelected:{}}]),ie=()=>{y.value.push({name:"",valuesText:"",dependsOn:"",rules:{},rulesSelected:{}})},de=o=>{y.value.splice(o,1)},$=o=>String(o||"").split(",").map(t=>t.trim()).filter(Boolean);function ce(o,t,e){return(o.rulesSelected&&Array.isArray(o.rulesSelected[t])?o.rulesSelected[t]:[]).includes(e)}function ue(o,t,e,l){const n=!!l?.target?.checked;o.rulesSelected||(o.rulesSelected={});const u=Array.isArray(o.rulesSelected[t])?[...o.rulesSelected[t]]:[],v=u.indexOf(e);n&&v===-1&&u.push(e),!n&&v!==-1&&u.splice(v,1),o.rulesSelected[t]=u}const me=()=>{try{const o=Array.isArray(c.product.variants)?c.product.variants:[];if(o.length===0)return;const t=new Set;o.forEach(l=>{Object.keys(l?.options||{}).forEach(n=>t.add(n))});const e=[];t.forEach(l=>{const n=new Set;o.forEach(v=>{const m=(v?.options||{})[l];m!=null&&String(m).trim()!==""&&n.add(String(m))});const u=Array.from(n).join(", ");e.push({name:l,valuesText:u,dependsOn:"",rules:{},rulesSelected:{}})}),e.length>0&&(y.value=e)}catch{}},pe=()=>{try{const o=c.product?.variant_attributes,t=Array.isArray(o)?o:[];if(t.length===0)return!1;const e=t.map(l=>{const n=Array.isArray(l?.values)?l.values:$(l?.valuesText||""),u=String(l?.dependsOn||"").trim(),v=typeof l?.rulesSelected=="object"&&l.rulesSelected?l.rulesSelected:{},m=typeof l?.rules=="object"&&l.rules?l.rules:{},x=!!(u||Object.keys(v).length||Object.keys(m).length);return{name:String(l?.name||""),valuesText:n.join(", "),dependsOn:u,rulesSelected:v,rules:m,__showDependency:x}}).filter(l=>l.name);if(e.length>0)return y.value=e,!0}catch{}return!1},fe=()=>{try{const o=c.product?.variant_attributes||[];if(!Array.isArray(o)||o.length===0)return;const t=Object.fromEntries(y.value.map(e=>[e.name,e]));for(const e of o){const l=t[e.name];l&&(e.dependsOn&&(l.dependsOn=e.dependsOn,l.__showDependency=!0),e.rulesSelected&&typeof e.rulesSelected=="object"?(l.rulesSelected=e.rulesSelected,Object.keys(l.rulesSelected||{}).length>0&&(l.__showDependency=!0)):e.rules&&typeof e.rules=="object"&&(l.rules=e.rules,Object.keys(l.rules||{}).length>0&&(l.__showDependency=!0)))}}catch{}},h=_([...c.product.images]),L=o=>{r.images_to_delete.push(o.id),h.value=h.value.filter(t=>t.id!==o.id)},T=_(!1),b=_(0),R=_(!1);function z(){R.value=window.innerWidth<768}Ce(()=>{z(),window.addEventListener("resize",z),oe(),pe()||(me(),fe())}),je(()=>window.removeEventListener("resize",z));const q=M(()=>R.value?1:4),he=M(()=>h.value.slice(0,q.value)),W=M(()=>h.value.slice(q.value));function J(o=0){b.value=o,T.value=!0}function Q(){T.value=!1}function ve(){const o=h.value.length;o!==0&&(b.value=(b.value-1+o)%o)}function ge(){const o=h.value.length;o!==0&&(b.value=(b.value+1)%o)}function _e(o){o<0||o>=h.value.length||(b.value=o)}const ye=M(()=>{if(r.variants.length>0){let o=0;return r.variants.forEach(t=>{o+=Number(t.stock)||0}),o}return Number(r.quantity)||0});Ae(ye,o=>{r.variants.length>0&&(r.quantity=o)});const be=()=>{try{const o=y.value.map(t=>({name:String(t.name||"").trim(),values:$(t.valuesText),dependsOn:String(t.dependsOn||"").trim(),rules:t.rules||{},rulesSelected:t.rulesSelected||{}})).filter(t=>t.name&&t.values.length>0);if(r.variant_attributes=o,o.length>0){let n=function(m){l.has(m.name)||(m.dependsOn&&t[m.dependsOn]&&n(t[m.dependsOn]),l.add(m.name),e.push(m))},v=function(m,x){if(m===e.length){u.push({...x});return}const S=e[m];let X=S.values;if(S.dependsOn){const E=x[S.dependsOn];if(E!=null){const N=S.rulesSelected?.[E]??S.rules?.[E]??[],Y=Array.isArray(N)?N:$(N);Y.length>0&&(X=S.values.filter(we=>Y.includes(we)))}}for(const E of X)x[S.name]=E,v(m+1,x);delete x[S.name]};const t=Object.fromEntries(o.map(m=>[m.name,m])),e=[],l=new Set;o.forEach(n);const u=[];v(0,{}),r.variants=u.map(m=>({id:null,options_text:e.map(x=>`${x.name}:${m[x.name]}`).join(", "),price:"",purchase_price:null,stock:0,alert:null}))}}catch{}U.value=!0},K=()=>{U.value=!1},xe=()=>{r.post(route("admin.products.update",c.product.id),{onError:async()=>{const o=[];for(const[t,e]of Object.entries(r.errors))t.startsWith("new_gallery_files.")&&String(e).toLowerCase().includes("image")?o.push("Una o más imágenes nuevas superan el tamaño máximo permitido (2 MB) o no son válidas."):o.push(String(e));I.value=o,V.value=o.length>0},onFinish:()=>{U.value=!1}})};return(o,t)=>(d(),i(k,null,[A(a(Oe),{title:"Editar Producto"}),A(Ve,null,{header:P(()=>[s("h2",Ue,"Editar Producto: "+j(a(r).name),1)]),default:P(()=>[s("div",Me,[s("div",De,[s("div",Ie,[s("div",Te,[s("form",{onSubmit:g(be,["prevent"])},[s("div",ze,[s("div",null,[s("div",qe,[Ne,p(s("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>a(r).name=e),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[w,a(r).name]])]),s("div",Be,[Fe,p(s("input",{id:"price","onUpdate:modelValue":t[1]||(t[1]=e=>a(r).price=e),type:"number",step:"0.01",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[w,a(r).price]])]),s("label",Ge,[p(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>a(r).track_inventory=e),class:"rounded"},null,512),[[H,a(r).track_inventory]]),Le]),a(r).track_inventory?(d(),i("div",Re,[s("div",null,[We,p(s("input",{id:"quantity","onUpdate:modelValue":t[3]||(t[3]=e=>a(r).quantity=e),type:"number",class:B(["block mt-1 w-full rounded-md shadow-sm border-gray-300",{"bg-gray-100":a(r).track_inventory===!1}]),disabled:a(r).track_inventory===!1,required:"",title:"Stock si no hay variantes. Con variantes, se suma automáticamente."},null,10,Je),[[w,a(r).quantity]])]),s("div",null,[Qe,p(s("input",{id:"alert_general","onUpdate:modelValue":t[4]||(t[4]=e=>a(r).alert=e),type:"number",class:B(["block mt-1 w-full rounded-md shadow-sm border-gray-300",{"bg-gray-100":a(r).track_inventory===!1}]),disabled:a(r).track_inventory===!1,title:"Se considera bajo stock cuando cantidad ≤ alerta."},null,10,Ke),[[w,a(r).alert]])]),s("div",null,[Xe,p(s("input",{id:"purchase_price","onUpdate:modelValue":t[5]||(t[5]=e=>a(r).purchase_price=e),type:"number",step:"0.01",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[w,a(r).purchase_price]])])])):O("",!0),Ye,s("div",He,[(d(!0),i(k,null,C(f.value,(e,l)=>(d(),i("div",{key:l,class:"mb-1"},[p(s("select",{class:"block w-full rounded-md shadow-sm border-gray-300","onUpdate:modelValue":n=>e.selected=n,onChange:n=>ne(l)},[et,(d(!0),i(k,null,C(e.options,n=>(d(),i("option",{key:n.id,value:n.id},j(n.name),9,tt))),128))],40,Ze),[[Z,e.selected]])]))),128))])]),s("div",null,[s("div",st,[ot,p(s("textarea",{id:"short_description","onUpdate:modelValue":t[6]||(t[6]=e=>a(r).short_description=e),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",rows:"3"},null,512),[[w,a(r).short_description]])]),s("div",lt,[nt,p(s("textarea",{id:"long_description","onUpdate:modelValue":t[7]||(t[7]=e=>a(r).long_description=e),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",rows:"5"},null,512),[[w,a(r).long_description]])]),s("div",rt,[at,p(s("input",{id:"specifications","onUpdate:modelValue":t[8]||(t[8]=e=>a(r).specifications=e),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[w,a(r).specifications]])])])]),s("div",it,[dt,ct,s("div",ut,[s("div",mt,[(d(!0),i(k,null,C(y.value,(e,l)=>(d(),i("div",{key:`attr-${l}`,class:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center"},[s("div",pt,[ft,p(s("input",{"onUpdate:modelValue":n=>e.name=n,type:"text",placeholder:"Color",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,8,ht),[[w,e.name]])]),s("div",vt,[gt,p(s("input",{"onUpdate:modelValue":n=>e.valuesText=n,type:"text",placeholder:"Rojo, Verde, Azul",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,8,_t),[[w,e.valuesText]])]),s("div",yt,[s("label",bt,[p(s("input",{type:"checkbox","onUpdate:modelValue":n=>e.__showDependency=n,class:"rounded"},null,8,xt),[[H,e.__showDependency]]),wt])]),e.__showDependency?(d(),i("div",kt,[s("div",St,[Ct,p(s("select",{"onUpdate:modelValue":n=>e.dependsOn=n,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},[At,(d(!0),i(k,null,C(y.value,(n,u)=>(d(),i("option",{key:`dep-${l}-${u}`,value:n.name,disabled:n===e||!n.name},j(n.name||"(sin nombre)"),9,Ot))),128))],8,jt),[[Z,e.dependsOn]])]),e.dependsOn?(d(),i("div",Vt,[$t,s("div",Et,[(d(!0),i(k,null,C($(y.value.find(n=>n.name===e.dependsOn)?.valuesText||""),n=>(d(),i("div",{key:`pv-${l}-${n}`,class:"border rounded p-2"},[s("div",Pt,[F(j(e.dependsOn)+" = ",1),s("strong",null,j(n),1)]),s("div",Ut,[(d(!0),i(k,null,C($(e.valuesText),u=>(d(),i("label",{key:`cv-${l}-${n}-${u}`,class:"inline-flex items-center gap-1 text-sm"},[s("input",{type:"checkbox",checked:ce(e,n,u),onChange:v=>ue(e,n,u,v),class:"rounded"},null,40,Mt),s("span",null,j(u),1)]))),128))])]))),128))]),Dt])):O("",!0)])):O("",!0),s("div",It,[s("button",{type:"button",class:"text-sm text-blue-600 hover:text-blue-800",onClick:ie},"+ Añadir atributo"),y.value.length>1?(d(),i("button",{key:0,type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:n=>de(l)},"Quitar",8,Tt)):O("",!0)])]))),128))])])]),s("div",zt,[s("div",qt,[s("div",Nt,[Bt,s("span",Ft,j(h.value.length)+" imagen(es)",1)]),h.value.length>0?(d(),i("div",Gt,[(d(!0),i(k,null,C(he.value,(e,l)=>(d(),i("div",{key:e.id,class:"relative rounded-lg overflow-hidden border bg-white shadow-sm hover:shadow-md transition group cursor-pointer",onClick:n=>J(l)},[s("img",{src:e.path,class:"w-full h-full aspect-[4/3] object-cover",alt:"Imagen del producto"},null,8,Rt),s("button",{onClick:g(n=>L(e),["stop","prevent"]),type:"button",class:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-7 h-7 flex items-center justify-center shadow-md hover:bg-red-700"}," × ",8,Wt)],8,Lt))),128)),W.value.length>0?(d(),i("div",{key:0,class:"relative rounded-lg overflow-hidden border bg-white shadow-sm hover:shadow-md transition group cursor-pointer flex items-center justify-center text-gray-800 font-bold text-base h-full min-h-[90px]",onClick:t[9]||(t[9]=e=>J(q.value))}," +"+j(W.value.length),1)):O("",!0)])):(d(),i("p",Jt,"Este producto no tiene imágenes."))]),s("div",Qt,[Kt,s("input",{id:"new_gallery_files",onInput:t[10]||(t[10]=e=>se(e)),type:"file",multiple:"",class:"block mt-1 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),Xt])]),T.value?(d(),i("div",{key:0,class:"fixed inset-0 bg-black/50 z-[1000] flex items-center justify-center p-4",style:{"pointer-events":"auto"},onClick:g(Q,["self"])},[s("div",{class:"bg-white rounded-lg p-4 w-full max-w-5xl max-h-[85vh] overflow-hidden relative",onClick:t[16]||(t[16]=g(()=>{},["stop"]))},[s("button",{type:"button",class:"absolute top-3 right-3 bg-gray-900 text-white rounded-full w-8 h-8 flex items-center justify-center z-30",onClick:g(Q,["stop","prevent"]),onMousedown:t[11]||(t[11]=g(()=>{},["stop","prevent"]))},"×",32),s("div",Yt,[s("button",{class:"absolute left-2 bg-white/90 border rounded-full w-9 h-9 flex items-center justify-center z-20",onClick:g(ve,["stop","prevent"]),onMousedown:t[12]||(t[12]=g(()=>{},["stop","prevent"]))},"‹",32),s("img",{src:h.value[b.value]?.path,class:"max-w-full max-h-full object-contain",alt:"Imagen"},null,8,Ht),s("button",{class:"absolute right-2 bg-white/90 border rounded-full w-9 h-9 flex items-center justify-center z-20",onClick:g(ge,["stop","prevent"]),onMousedown:t[13]||(t[13]=g(()=>{},["stop","prevent"]))},"›",32),h.value[b.value]?(d(),i("button",{key:0,class:"absolute top-2 right-12 bg-red-600 text-white rounded px-2 py-1 text-xs z-20",type:"button",onClick:t[14]||(t[14]=g(e=>L(h.value[b.value]),["stop","prevent"])),onMousedown:t[15]||(t[15]=g(()=>{},["stop","prevent"]))},"Eliminar",32)):O("",!0)]),s("div",Zt,[(d(!0),i(k,null,C(h.value,(e,l)=>(d(),i("div",{key:e.id,class:B(["border rounded p-1 cursor-pointer flex-shrink-0",{"ring-2 ring-blue-500":l===b.value}]),onClick:n=>_e(l)},[s("img",{src:e.path,class:"w-20 h-20 object-cover rounded",alt:"thumb"},null,8,ts)],10,es))),128))])])])):O("",!0),s("div",ss,[s("button",{type:"submit",disabled:a(r).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Actualizar Producto ",8,os)])],32)])])])])]),_:1}),A($e,{show:U.value,onClose:K},{default:P(()=>[s("div",ls,[ns,rs,s("div",as,[A(Ee,{onClick:K},{default:P(()=>[F("Cancelar")]),_:1}),A(Pe,{class:"ms-3",onClick:xe,disabled:a(r).processing},{default:P(()=>[F(" Guardar cambios ")]),_:1},8,["disabled"])])])]),_:1},8,["show"]),A(ee,{show:D.value,type:"success",title:"Producto actualizado","primary-text":"Entendido",onPrimary:t[17]||(t[17]=e=>D.value=!1),onClose:t[18]||(t[18]=e=>D.value=!1)},null,8,["show"]),A(ee,{show:V.value,type:"error",title:"No pudimos actualizar el producto",message:"Revisá los siguientes puntos:",messages:I.value,"primary-text":"Entendido",onPrimary:t[19]||(t[19]=e=>V.value=!1),onClose:t[20]||(t[20]=e=>V.value=!1)},null,8,["show","messages"])],64))}};export{hs as default};

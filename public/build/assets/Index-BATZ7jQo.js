import{_ as b}from"./AuthenticatedLayout-DnHW7twC.js";import{r as n,a as d,o as u,b as a,u as x,h as C,d as l,e,l as y,m as g,f as k,F as v,i as N,t as h,j as E}from"./app-9mQJuWzP.js";import{_ as A}from"./Modal-CBuPActV.js";import{_ as D}from"./SecondaryButton-ESrZDC4e.js";import{D as $}from"./DangerButton-BWL4xgZO.js";import{_ as B}from"./AlertModal-c2YCcOTS.js";const M={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-4"},q={class:"overflow-x-auto"},z={class:"min-w-[600px] w-full divide-y divide-gray-200 table-auto"},F={class:"bg-white divide-y divide-gray-200"},G={key:0},H={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},I={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},T={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap text-sm font-medium"},P={class:"flex items-center gap-2"},J=["onClick"],K={class:"p-6"},O={class:"mt-6 flex justify-end"},ee={__name:"Index",props:{categories:Array},setup(f){const r=n(!1),m=n(""),p=n(!1),c=n(null),w=s=>{c.value=s,p.value=!0},i=()=>{p.value=!1,c.value=null},_=()=>{E.delete(route("admin.categories.destroy",c.value),{preserveScroll:!0,onSuccess:()=>{i(),m.value="¡Categoría eliminada con éxito!",r.value=!0},onError:s=>{i();const t=s&&(s.delete||s.message)||"No se pudo eliminar: existen productos asociados.";m.value=t,r.value=!0}})};return(s,t)=>(u(),d(v,null,[a(x(C),{title:"Gestionar Categorías"}),a(b,null,{header:l(()=>[...t[2]||(t[2]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Categorías",-1)])]),default:l(()=>[e("div",M,[e("div",V,[e("div",j,[e("div",S,[e("div",L,[t[4]||(t[4]=e("p",null,"Aquí podés crear, editar y eliminar las categorías de tus productos.",-1)),a(x(y),{href:s.route("admin.categories.create"),class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"},{default:l(()=>[...t[3]||(t[3]=[g(" Crear Nueva ",-1)])]),_:1},8,["href"])]),e("div",q,[e("table",z,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nombre"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1)),e("tbody",F,[f.categories.length===0?(u(),d("tr",G,[...t[5]||(t[5]=[e("td",{colspan:"3",class:"px-3 py-3 sm:px-6 sm:py-4 text-center text-gray-500"},"No hay categorías creadas.",-1)])])):k("",!0),(u(!0),d(v,null,N(f.categories,o=>(u(),d("tr",{key:o.id},[e("td",H,h(o.id),1),e("td",I,h(o.name),1),e("td",T,[e("div",P,[a(x(y),{href:s.route("admin.categories.edit",o.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-indigo-600",title:"Editar"},{default:l(()=>[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16.862 3.487a2.25 2.25 0 113.182 3.182L9.428 17.284a3.75 3.75 0 01-1.582.992l-2.685.805a.75.75 0 01-.93-.93l.805-2.685a3.75 3.75 0 01.992-1.582L16.862 3.487z"}),e("path",{d:"M15.75 4.5l3.75 3.75"})],-1)])]),_:1},8,["href"]),e("button",{onClick:Q=>w(o.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-red-600",title:"Eliminar"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.5V6h3.75a.75.75 0 010 1.5H3.75A.75.75 0 013 6h3.75V4.5A2.25 2.25 0 019 2.25h6A2.25 2.25 0 0117.25 4.5zM5.625 7.5h12.75l-.701 10.518A2.25 2.25 0 0115.43 20.25H8.57a2.25 2.25 0 01-2.244-2.232L5.625 7.5z","clip-rule":"evenodd"})],-1)])],8,J)])])]))),128))])])])])])])])]),_:1}),a(A,{show:p.value,onClose:i},{default:l(()=>[e("div",K,[t[11]||(t[11]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que querés eliminar esta categoría? ",-1)),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-gray-600"}," Esta acción es irreversible. Se borrará la categoría y todas sus subcategorías. ",-1)),e("div",O,[a(D,{onClick:i},{default:l(()=>[...t[9]||(t[9]=[g(" Cancelar ",-1)])]),_:1}),a($,{class:"ms-3",onClick:_},{default:l(()=>[...t[10]||(t[10]=[g(" Sí, Eliminar Categoría ",-1)])]),_:1})])])]),_:1},8,["show"]),a(B,{show:r.value,type:"error",title:"Categorías",message:m.value,"primary-text":"Entendido",onPrimary:t[0]||(t[0]=o=>r.value=!1),onClose:t[1]||(t[1]=o=>r.value=!1)},null,8,["show","message"])],64))}};export{ee as default};

import{K as y,r as g,p as _,a,o as l,b as f,u as o,h as k,d as b,e as s,s as h,g as i,f as u,v as p,t as d,F as x,i as U,x as V}from"./app-9mQJuWzP.js";import{_ as C}from"./AuthenticatedLayout-DnHW7twC.js";import{_ as N}from"./AlertModal-c2YCcOTS.js";import"./Modal-CBuPActV.js";const E={class:"font-semibold text-xl text-gray-800 leading-tight"},S={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 text-gray-900"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"mb-4"},F={key:0,class:"text-sm text-red-600 mt-2"},M={class:"mb-4"},O={key:0,class:"text-sm text-red-600 mt-2"},P={class:"mb-4"},z=["value"],A={key:0,class:"text-sm text-red-600 mt-2"},K={class:"mb-4"},T={key:0,class:"text-sm text-red-600 mt-2"},L={class:"mb-4"},R={class:"flex items-center justify-end mt-6 border-t pt-6"},G=["disabled"],X={__name:"Edit",props:{user:Object,roles:Array},setup(c){const n=c,w=y(),m=g(!!w?.props?.flash?.success),t=_({_method:"PUT",name:n.user.name,email:n.user.email,password:"",password_confirmation:"",role:n.user.roles[0]?.name||""}),v=()=>{t.put(route("admin.users.update",n.user.id),{onSuccess:()=>{m.value=!0,t.reset("password","password_confirmation")}})};return(H,e)=>(l(),a(x,null,[f(o(k),{title:"Editar Usuario"}),f(N,{show:m.value,type:"success",title:"Usuario actualizado","primary-text":"OK",onPrimary:e[0]||(e[0]=r=>m.value=!1),onClose:e[1]||(e[1]=r=>m.value=!1)},null,8,["show"]),f(C,null,{header:b(()=>[s("h2",E,"Editar Usuario: "+d(c.user.name),1)]),default:b(()=>[s("div",S,[s("div",$,[s("div",j,[s("div",q,[s("form",{onSubmit:h(v,["prevent"])},[s("div",B,[s("div",null,[s("div",D,[e[7]||(e[7]=s("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1)),i(s("input",{id:"name","onUpdate:modelValue":e[2]||(e[2]=r=>o(t).name=r),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(t).name]]),o(t).errors.name?(l(),a("p",F,d(o(t).errors.name),1)):u("",!0)]),s("div",M,[e[8]||(e[8]=s("label",{for:"email",class:"block font-medium text-sm text-gray-700"},"Email",-1)),i(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=r=>o(t).email=r),type:"email",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,o(t).email]]),o(t).errors.email?(l(),a("p",O,d(o(t).errors.email),1)):u("",!0)]),s("div",P,[e[9]||(e[9]=s("label",{for:"role",class:"block font-medium text-sm text-gray-700"},"Rol",-1)),i(s("select",{id:"role","onUpdate:modelValue":e[4]||(e[4]=r=>o(t).role=r),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},[(l(!0),a(x,null,U(c.roles,r=>(l(),a("option",{key:r,value:r},d(r),9,z))),128))],512),[[V,o(t).role]]),o(t).errors.role?(l(),a("p",A,d(o(t).errors.role),1)):u("",!0)])]),s("div",null,[s("div",K,[e[10]||(e[10]=s("label",{for:"password",class:"block font-medium text-sm text-gray-700"},"Nueva Contraseña (Opcional)",-1)),i(s("input",{id:"password","onUpdate:modelValue":e[5]||(e[5]=r=>o(t).password=r),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[p,o(t).password]]),e[11]||(e[11]=s("p",{class:"text-xs text-gray-500 mt-1"},"Dejar en blanco para no cambiar la contraseña.",-1)),o(t).errors.password?(l(),a("p",T,d(o(t).errors.password),1)):u("",!0)]),s("div",L,[e[12]||(e[12]=s("label",{for:"password_confirmation",class:"block font-medium text-sm text-gray-700"},"Confirmar Nueva Contraseña",-1)),i(s("input",{id:"password_confirmation","onUpdate:modelValue":e[6]||(e[6]=r=>o(t).password_confirmation=r),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300"},null,512),[[p,o(t).password_confirmation]])])])]),s("div",R,[s("button",{type:"submit",disabled:o(t).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Actualizar Usuario ",8,G)])],32)])])])])]),_:1})],64))}};export{X as default};

import{c as k,r as C,a,o as r,b as d,d as c,h as N,e as n,f as t,i as m,l as h,p as y,m as p,t as s,j as T,A as F,q as V,F as f,n as B,z as D}from"./app-DkHrJui5.js";import{_ as O}from"./AuthenticatedLayout-DfUNhqeG.js";import{_ as j}from"./Pagination--KDpUzkr.js";import"./AlertModal-D2AizOam.js";import"./Modal-CrS4NiWN.js";const P=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Clientes",-1),A={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"mb-6 border-b border-gray-200"},z={class:"-mb-px flex space-x-8"},K={key:0},L={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},q=t("p",{class:"text-sm text-gray-600 mb-1"},"Total de Clientes",-1),E={class:"text-3xl font-bold text-gray-900"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},M=t("p",{class:"text-sm text-gray-600 mb-1"},"Total de Pedidos",-1),Q={class:"text-3xl font-bold text-gray-900"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},H=t("p",{class:"text-sm text-gray-600 mb-1"},"Ingresos Totales",-1),J={class:"text-3xl font-bold text-gray-900"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},W={class:"p-6"},X={class:"flex gap-4"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"overflow-x-auto"},tt={class:"min-w-full divide-y divide-gray-200"},et=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cliente"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contacto"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pedidos"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Gastado"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Acciones")])],-1),st={class:"bg-white divide-y divide-gray-200"},ot={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm font-medium text-gray-900"},rt={class:"text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap"},it={class:"text-sm text-gray-900"},nt={key:0,class:"text-xs text-gray-500"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},mt={key:0},ht=t("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500"}," No se encontraron clientes ",-1),pt=[ht],ut={class:"px-6 py-4 border-t border-gray-200"},vt={__name:"Index",props:{customers:Object,stats:Object,filters:Object},setup(o){const b=o,l=k(()=>route().current("admin.coupons.*")?"coupons":"customers"),x=C(b.filters?.search||""),u=()=>{D.get(route("admin.customers.index"),{search:x.value||void 0},{preserveState:!0,preserveScroll:!0})},_=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(i);return(i,g)=>(r(),a(f,null,[d(c(N),{title:"Clientes"}),d(O,null,{header:n(()=>[P]),default:n(()=>[t("div",A,[t("div",I,[t("div",S,[t("nav",z,[d(c(h),{href:i.route("admin.customers.index"),class:y([l.value==="customers"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},{default:n(()=>[p(" Listado de Clientes ")]),_:1},8,["href","class"]),d(c(h),{href:i.route("admin.coupons.index"),class:y([l.value==="coupons"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},{default:n(()=>[p(" Cupones de Descuento ")]),_:1},8,["href","class"])])]),l.value==="customers"?(r(),a("div",K,[t("div",L,[t("div",$,[q,t("p",E,s(o.stats.total_customers),1)]),t("div",G,[M,t("p",Q,s(o.stats.total_orders),1)]),t("div",U,[H,t("p",J,s(_(o.stats.total_revenue)),1)])]),t("div",R,[t("div",W,[t("div",X,[T(t("input",{"onUpdate:modelValue":g[0]||(g[0]=e=>x.value=e),onKeyup:F(u,["enter"]),type:"text",placeholder:"Buscar por nombre, email o telÃ©fono...",class:"flex-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[V,x.value]]),t("button",{onClick:u,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," Buscar ")])])]),t("div",Y,[t("div",Z,[t("table",tt,[et,t("tbody",st,[(r(!0),a(f,null,B(o.customers.data,e=>(r(),a("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",ot,[t("div",at,s(e.name),1),t("div",rt,s(e.email),1)]),t("td",dt,[t("div",it,s(e.phone||"N/A"),1),e.default_address?(r(),a("div",nt,s(e.default_address.city),1)):m("",!0)]),t("td",ct,s(e.orders_count),1),t("td",lt,s(_(e.orders?.reduce((v,w)=>v+parseFloat(w.total_price||0),0)||0)),1),t("td",xt,[d(c(h),{href:i.route("admin.customers.show",e.id),class:"text-indigo-600 hover:text-indigo-900"},{default:n(()=>[p(" Ver detalles ")]),_:2},1032,["href"])])]))),128)),o.customers.data.length===0?(r(),a("tr",mt,pt)):m("",!0)])])]),t("div",ut,[d(j,{links:o.customers.links},null,8,["links"])])])])):m("",!0)])])]),_:1})],64))}};export{vt as default};

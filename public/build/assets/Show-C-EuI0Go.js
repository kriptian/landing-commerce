import{_ as m}from"./AuthenticatedLayout-DkZUiWl8.js";import{B as y,a,o as n,b as d,d as r,h as f,e as l,f as t,i,t as e,F as _,n as g,l as b,m as v}from"./app-CKmRzW96.js";import"./AlertModal-CikiHFbj.js";import"./Modal-Cxq9Hw5h.js";const w={class:"flex items-center justify-between"},F={class:"font-semibold text-xl text-gray-800 leading-tight"},k={class:"flex gap-2"},V={class:"py-12"},$={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},j={class:"print-store-header"},P={key:0,class:"text-center text-2xl font-bold mb-6 pb-4 border-b-2 border-black"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6"},D={class:"mb-6"},B=t("h3",{class:"text-lg font-semibold mb-4"},"InformaciÃ³n de la Venta",-1),C={class:"grid grid-cols-2 gap-4"},I=t("p",{class:"text-sm text-gray-500"},"NÃºmero de Venta",-1),L={class:"font-medium"},O=t("p",{class:"text-sm text-gray-500"},"Fecha",-1),T={class:"font-medium"},M=t("p",{class:"text-sm text-gray-500"},"Vendedor",-1),U={class:"font-medium"},q=t("p",{class:"text-sm text-gray-500"},"MÃ©todo de Pago",-1),z={class:"font-medium capitalize"},A={key:0,class:"mt-4"},E=t("p",{class:"text-sm text-gray-500"},"Notas",-1),R={class:"font-medium"},G={class:"mb-6"},H=t("h3",{class:"text-lg font-semibold mb-4"},"Productos Vendidos",-1),J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},Q=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Producto"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cantidad"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Precio Unit."),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal")])],-1),W={class:"bg-white divide-y divide-gray-200"},X={class:"px-4 py-3"},Y={class:"font-medium"},Z={key:0,class:"text-sm text-gray-500"},tt={class:"px-4 py-3"},et={class:"px-4 py-3"},st={key:0},ot={class:"text-sm text-gray-400 line-through"},at={class:"font-medium"},nt={key:1},it={class:"px-4 py-3"},dt={key:0,class:"text-sm text-green-600 font-medium"},lt={key:1,class:"text-sm text-gray-400"},ct={class:"px-4 py-3 font-medium"},rt={class:"border-t pt-4"},_t={class:"flex justify-end"},ut={class:"w-64 space-y-2"},ht={class:"flex justify-between"},xt=t("span",null,"Subtotal:",-1),pt={key:0,class:"flex justify-between text-red-600"},mt=t("span",null,"Descuento manual:",-1),yt={class:"flex justify-between text-lg font-bold pt-2 border-t"},ft=t("span",null,"Total:",-1),kt={__name:"Show",props:{sale:Object,store:Object},setup(s){const u=()=>new URLSearchParams(window.location.search).get("print")==="true",h=()=>{window.print()};return y(()=>{u()&&setTimeout(()=>{window.print()},500)}),(c,gt)=>(n(),a(_,null,[d(r(f),{title:"Detalle de Venta"}),d(m,null,{header:l(()=>[t("div",w,[t("h2",F," Venta #"+e(s.sale.sale_number),1),t("div",k,[t("button",{onClick:h,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 no-print"}," ðŸ–¨ï¸ Imprimir "),d(r(b),{href:c.route("admin.physical-sales.index"),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 no-print"},{default:l(()=>[v(" Volver ")]),_:1},8,["href"])])])]),default:l(()=>[t("div",V,[t("div",$,[t("div",j,[s.store?.name?(n(),a("h1",P,e(s.store.name),1)):i("",!0)]),t("div",N,[t("div",S,[t("div",D,[B,t("div",C,[t("div",null,[I,t("p",L,"#"+e(s.sale.sale_number),1)]),t("div",null,[O,t("p",T,e(new Date(s.sale.created_at).toLocaleString()),1)]),t("div",null,[M,t("p",U,e(s.sale.user?.name||"N/A"),1)]),t("div",null,[q,t("p",z,e(s.sale.payment_method),1)])]),s.sale.notes?(n(),a("div",A,[E,t("p",R,e(s.sale.notes),1)])):i("",!0)]),t("div",G,[H,t("div",J,[t("table",K,[Q,t("tbody",W,[(n(!0),a(_,null,g(s.sale.items,o=>(n(),a("tr",{key:o.id},[t("td",X,[t("p",Y,e(o.product_name),1),o.variant_options?(n(),a("p",Z,e(Object.entries(o.variant_options).map(([x,p])=>`${x}: ${p}`).join(", ")),1)):i("",!0)]),t("td",tt,e(o.quantity),1),t("td",et,[o.original_price&&o.original_price>o.unit_price?(n(),a("div",st,[t("p",ot,"$"+e(parseFloat(o.original_price).toFixed(2)),1),t("p",at,"$"+e(parseFloat(o.unit_price).toFixed(2)),1)])):(n(),a("p",nt,"$"+e(parseFloat(o.unit_price).toFixed(2)),1))]),t("td",it,[o.discount_percent>0?(n(),a("span",dt," -"+e(o.discount_percent)+"% ",1)):(n(),a("span",lt,"-"))]),t("td",ct,"$"+e(parseFloat(o.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",rt,[t("div",_t,[t("div",ut,[t("div",ht,[xt,t("span",null,"$"+e(parseFloat(s.sale.subtotal).toFixed(2)),1)]),s.sale.discount>0?(n(),a("div",pt,[mt,t("span",null,"-$"+e(parseFloat(s.sale.discount).toFixed(2)),1)])):i("",!0),t("div",yt,[ft,t("span",null,"$"+e(parseFloat(s.sale.total).toFixed(2)),1)])])])])])])])])]),_:1})],64))}};export{kt as default};

import{r as l,o as M,n as D,a as N,b as u,d as m,e as o,u as f,h as V,f as r,g as e,q as w,j as y,p as b,i as A,F as C,l as S,m as $,t as k,k as z,s as j}from"./app-D7ttTWGz.js";import{_ as F}from"./AuthenticatedLayout-DDDo1cMT.js";import{_ as H}from"./Modal-UfrBPs3q.js";import{_ as q}from"./SecondaryButton-BF1VL4P6.js";import{D as R}from"./DangerButton-BaZ0rkI2.js";import{_ as T}from"./AlertModal-Bl0CaqCv.js";const G=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Categorías",-1),I={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-6 text-gray-900"},J={class:"flex justify-between items-center mb-4"},K=e("p",null,"Aquí podés crear, editar y eliminar las categorías de tus productos.",-1),O=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 0 1 2-2h7l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4zm9-1.5V7h4.5L13 2.5z"}),e("path",{d:"M8 13h8v2H8zM8 9h5v2H8z"})],-1),Q=e("span",null,"Crear",-1),X={class:"pointer-events-none absolute inset-y-0 left-0 w-6 bg-gradient-to-r from-white to-transparent"},Y={class:"pointer-events-none absolute inset-y-0 right-0 w-6 bg-gradient-to-l from-white to-transparent"},Z={class:"min-w-[600px] w-full divide-y divide-gray-200 table-auto"},ee=e("thead",{class:"sticky top-0 z-10 bg-gray-50"},[e("tr",null,[e("th",{class:"sticky left-0 z-20 bg-gray-50 px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"ID"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nombre"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Acciones")])],-1),te={class:"bg-white divide-y divide-gray-200"},se={key:0},ae=e("td",{colspan:"3",class:"px-3 py-3 sm:px-6 sm:py-4 text-center text-gray-500"},"No hay categorías creadas.",-1),oe=[ae],le={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},re={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap text-sm font-medium"},ne={class:"flex items-center gap-2"},ie=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16.862 3.487a2.25 2.25 0 113.182 3.182L9.428 17.284a3.75 3.75 0 01-1.582.992l-2.685.805a.75.75 0 01-.93-.93l.805-2.685a3.75 3.75 0 01.992-1.582L16.862 3.487z"}),e("path",{d:"M15.75 4.5l3.75 3.75"})],-1),ce=["onClick"],de=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.5V6h3.75a.75.75 0 010 1.5H3.75A.75.75 0 013 6h3.75V4.5A2.25 2.25 0 019 2.25h6A2.25 2.25 0 0117.25 4.5zM5.625 7.5h12.75l-.701 10.518A2.25 2.25 0 0115.43 20.25H8.57a2.25 2.25 0 01-2.244-2.232L5.625 7.5z","clip-rule":"evenodd"})],-1),ue=[de],me={class:"p-6"},he=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que querés eliminar esta categoría? ",-1),pe=e("p",{class:"mt-1 text-sm text-gray-600"}," Esta acción es irreversible. Se borrará la categoría y todas sus subcategorías. ",-1),ge={class:"mt-6 flex justify-end"},Ce={__name:"Index",props:{categories:Array},setup(_){const n=l(!1),h=l(""),p=l(!1),g=l(null),E=t=>{g.value=t,p.value=!0},c=()=>{p.value=!1,g.value=null},L=()=>{j.delete(route("admin.categories.destroy",g.value),{preserveScroll:!0,onSuccess:()=>{c(),h.value="¡Categoría eliminada con éxito!",n.value=!0},onError:t=>{c();const a=t&&(t.delete||t.message)||"No se pudo eliminar: existen productos asociados.";h.value=a,n.value=!0}})},d=l(null),v=l(!1),x=l(!1),i=()=>{const t=d.value;if(!t)return;const a=t.scrollWidth-t.clientWidth,s=t.scrollLeft||0;v.value=s>0,x.value=s<a-1};return M(()=>{D(()=>i()),d.value?.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i)}),N(()=>{d.value?.removeEventListener("scroll",i),window.removeEventListener("resize",i)}),(t,a)=>(m(),u(C,null,[o(f(V),{title:"Gestionar Categorías"}),o(F,null,{header:r(()=>[G]),default:r(()=>[e("div",I,[e("div",W,[e("div",P,[e("div",U,[e("div",J,[K,o(f(w),{href:t.route("admin.categories.create"),class:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow"},{default:r(()=>[O,Q]),_:1},8,["href"])]),e("div",{ref_key:"scrollBoxRef",ref:d,class:"relative overflow-x-auto"},[y(e("div",X,null,512),[[b,v.value]]),y(e("div",Y,null,512),[[b,x.value]]),e("table",Z,[ee,e("tbody",te,[_.categories.length===0?(m(),u("tr",se,oe)):A("",!0),(m(!0),u(C,null,S(_.categories,(s,B)=>(m(),u("tr",{key:s.id,class:"odd:bg-white even:bg-gray-100"},[e("td",{class:$(["sticky left-0 z-10 px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap border-r",B%2===1?"bg-gray-100":"bg-white"])},k(s.id),3),e("td",le,k(s.name),1),e("td",re,[e("div",ne,[o(f(w),{href:t.route("admin.categories.edit",s.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-indigo-600",title:"Editar"},{default:r(()=>[ie]),_:2},1032,["href"]),e("button",{onClick:fe=>E(s.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-red-600",title:"Eliminar"},ue,8,ce)])])]))),128))])])],512)])])])])]),_:1}),o(H,{show:p.value,onClose:c},{default:r(()=>[e("div",me,[he,pe,e("div",ge,[o(q,{onClick:c},{default:r(()=>[z(" Cancelar ")]),_:1}),o(R,{class:"ms-3",onClick:L},{default:r(()=>[z(" Sí, Eliminar Categoría ")]),_:1})])])]),_:1},8,["show"]),o(T,{show:n.value,type:"error",title:"Categorías",message:h.value,"primary-text":"Entendido",onPrimary:a[0]||(a[0]=s=>n.value=!1),onClose:a[1]||(a[1]=s=>n.value=!1)},null,8,["show","message"])],64))}};export{Ce as default};

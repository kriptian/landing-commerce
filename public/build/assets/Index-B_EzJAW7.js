import{_ as b}from"./AuthenticatedLayout-0XqtQlBh.js";import{r as n,a as d,o as m,b as s,u as c,h as C,d as o,e,l as v,m as f,f as k,F as y,i as E,t as h,j as N}from"./app-DdN1dnwv.js";import{_ as A}from"./Modal-uE4VJq8H.js";import{_ as D}from"./SecondaryButton-B5xcrSpi.js";import{D as $}from"./DangerButton-BMEUFFUh.js";import{_ as B}from"./AlertModal-CWL83k3D.js";import"./DropdownLink-DQGx_2Xf.js";const M={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},L={class:"p-6 text-gray-900"},j={class:"flex justify-between items-center mb-4"},q={class:"overflow-x-auto"},z={class:"min-w-[600px] w-full divide-y divide-gray-200 table-auto"},H={class:"bg-white divide-y divide-gray-200"},F={key:0},G={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},I={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},T={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap text-sm font-medium"},P={class:"flex items-center gap-3"},J=["onClick"],K={class:"p-6"},O={class:"mt-6 flex justify-end"},te={__name:"Index",props:{categories:Array},setup(g){const l=n(!1),u=n(""),p=n(!1),x=n(null),w=i=>{x.value=i,p.value=!0},r=()=>{p.value=!1,x.value=null},_=()=>{N.delete(route("admin.categories.destroy",x.value),{preserveScroll:!0,onSuccess:()=>{r(),u.value="¡Categoría eliminada con éxito!",l.value=!0},onError:()=>{r(),u.value="Hubo un error al eliminar la categoría.",l.value=!0}})};return(i,t)=>(m(),d(y,null,[s(c(C),{title:"Gestionar Categorías"}),s(b,null,{header:o(()=>[...t[2]||(t[2]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Categorías",-1)])]),default:o(()=>[e("div",M,[e("div",V,[e("div",S,[e("div",L,[e("div",j,[t[4]||(t[4]=e("p",null,"Aquí podés crear, editar y eliminar las categorías de tus productos.",-1)),s(c(v),{href:i.route("admin.categories.create"),class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"},{default:o(()=>[...t[3]||(t[3]=[f(" Crear Nueva ",-1)])]),_:1},8,["href"])]),e("div",q,[e("table",z,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nombre"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1)),e("tbody",H,[g.categories.length===0?(m(),d("tr",F,[...t[5]||(t[5]=[e("td",{colspan:"3",class:"px-3 py-3 sm:px-6 sm:py-4 text-center text-gray-500"},"No hay categorías creadas.",-1)])])):k("",!0),(m(!0),d(y,null,E(g.categories,a=>(m(),d("tr",{key:a.id},[e("td",G,h(a.id),1),e("td",I,h(a.name),1),e("td",T,[e("div",P,[s(c(v),{href:i.route("admin.categories.edit",a.id),class:"text-indigo-600 hover:text-indigo-900 inline-flex items-center gap-1"},{default:o(()=>[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5 sm:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16.862 3.487a2.25 2.25 0 113.182 3.182L9.428 17.284a3.75 3.75 0 01-1.582.992l-2.685.805a.75.75 0 01-.93-.93l.805-2.685a3.75 3.75 0 01.992-1.582L16.862 3.487z"}),e("path",{d:"M15.75 4.5l3.75 3.75"})],-1),e("span",{class:"hidden sm:inline"},"Editar",-1)])]),_:1},8,["href"]),e("button",{onClick:Q=>w(a.id),class:"text-red-600 hover:text-red-900 inline-flex items-center gap-1"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 sm:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.5V6h3.75a.75.75 0 010 1.5H3.75A.75.75 0 013 6h3.75V4.5A2.25 2.25 0 019 2.25h6A2.25 2.25 0 0117.25 4.5zM5.625 7.5h12.75l-.701 10.518A2.25 2.25 0 0115.43 20.25H8.57a2.25 2.25 0 01-2.244-2.232L5.625 7.5z","clip-rule":"evenodd"})],-1),e("span",{class:"hidden sm:inline"},"Eliminar",-1)])],8,J)])])]))),128))])])])])])])])]),_:1}),s(A,{show:p.value,onClose:r},{default:o(()=>[e("div",K,[t[11]||(t[11]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que querés eliminar esta categoría? ",-1)),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-gray-600"}," Esta acción es irreversible. Se borrará la categoría y todas sus subcategorías. ",-1)),e("div",O,[s(D,{onClick:r},{default:o(()=>[...t[9]||(t[9]=[f(" Cancelar ",-1)])]),_:1}),s($,{class:"ms-3",onClick:_},{default:o(()=>[...t[10]||(t[10]=[f(" Sí, Eliminar Categoría ",-1)])]),_:1})])])]),_:1},8,["show"]),s(B,{show:l.value,type:"info",title:"Categorías",message:u.value,"primary-text":"Entendido",onPrimary:t[0]||(t[0]=a=>l.value=!1),onClose:t[1]||(t[1]=a=>l.value=!1)},null,8,["show","message"])],64))}};export{te as default};

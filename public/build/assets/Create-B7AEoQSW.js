import{z as C,r as _,b as r,d as l,e as u,u as t,h as U,f as h,g as e,s as V,j as d,i as c,v as p,t as i,F as v,l as $,B as S}from"./app-BAig9ET_.js";import{_ as q}from"./AuthenticatedLayout-cdS-tItC.js";import{_ as y}from"./AlertModal-DklvAkHV.js";import"./Modal-LmQSKbuN.js";const E=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Crear usuario",-1),M={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6 text-gray-900"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"mb-4"},j=e("label",{for:"name",class:"block font-medium text-sm text-gray-700"},"Nombre",-1),A={key:0,class:"text-sm text-red-600 mt-2"},D={class:"mb-4"},P=e("label",{for:"email",class:"block font-medium text-sm text-gray-700"},"Email",-1),R={key:0,class:"text-sm text-red-600 mt-2"},T={class:"mb-4"},G=e("label",{for:"role",class:"block font-medium text-sm text-gray-700"},"Rol",-1),H=["value"],I={key:0,class:"text-sm text-red-600 mt-2"},J={class:"mb-4"},K=e("label",{for:"password",class:"block font-medium text-sm text-gray-700"},"Contraseña",-1),O={key:0,class:"text-sm text-red-600 mt-2"},Q={class:"mb-4"},W=e("label",{for:"password_confirmation",class:"block font-medium text-sm text-gray-700"},"Confirmar Contraseña",-1),X={class:"flex items-center justify-end mt-6 border-t pt-6"},Y=["disabled"],Z="573208204198",ae={__name:"Create",props:{roles:Array},setup(w){const x=w,s=C({name:"",email:"",password:"",password_confirmation:"",role:x.roles.length>0?x.roles[0]:""}),g=()=>{s.post(route("admin.users.store"),{onSuccess:()=>{window.location=route("admin.users.index")},onError:m=>{m&&m.limit&&(n.value=!0,b.value=m.limit)},onFinish:()=>s.reset("password","password_confirmation")})},n=_(!1),b=_(""),f=_(!1),k=`https://wa.me/${Z}?text=${encodeURIComponent("Hola, necesito ampliar mis licencias de usuarios.")}`;return(m,o)=>(l(),r(v,null,[u(t(U),{title:"Crear Usuario"}),u(q,null,{header:h(()=>[E]),default:h(()=>[e("div",M,[e("div",B,[e("div",F,[e("div",N,[e("form",{onSubmit:V(g,["prevent"])},[e("div",z,[e("div",null,[e("div",L,[j,d(e("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>t(s).name=a),type:"text",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,t(s).name]]),t(s).errors.name?(l(),r("p",A,i(t(s).errors.name),1)):c("",!0)]),e("div",D,[P,d(e("input",{id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>t(s).email=a),type:"email",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,t(s).email]]),t(s).errors.email?(l(),r("p",R,i(t(s).errors.email),1)):c("",!0)]),e("div",T,[G,d(e("select",{id:"role","onUpdate:modelValue":o[2]||(o[2]=a=>t(s).role=a),class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},[(l(!0),r(v,null,$(w.roles,a=>(l(),r("option",{key:a,value:a},i(a),9,H))),128))],512),[[S,t(s).role]]),t(s).errors.role?(l(),r("p",I,i(t(s).errors.role),1)):c("",!0)])]),e("div",null,[e("div",J,[K,d(e("input",{id:"password","onUpdate:modelValue":o[3]||(o[3]=a=>t(s).password=a),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,t(s).password]]),t(s).errors.password?(l(),r("p",O,i(t(s).errors.password),1)):c("",!0)]),e("div",Q,[W,d(e("input",{id:"password_confirmation","onUpdate:modelValue":o[4]||(o[4]=a=>t(s).password_confirmation=a),type:"password",class:"block mt-1 w-full rounded-md shadow-sm border-gray-300",required:""},null,512),[[p,t(s).password_confirmation]])])])]),e("div",X,[e("button",{type:"submit",disabled:t(s).processing,class:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Guardar Usuario ",8,Y)])],32)])])])]),u(y,{show:n.value,type:"error",title:"Límite de licencias alcanzado",message:b.value||"Tu plan alcanzó el máximo de usuarios. Contactá al administrador para ampliar licencias.","primary-text":"Contactar","primary-href":k,"secondary-text":"Entendido",onClose:o[5]||(o[5]=a=>n.value=!1),onSecondary:o[6]||(o[6]=a=>n.value=!1)},null,8,["show","message"]),u(y,{show:f.value,type:"success",title:"¡Usuario creado con éxito!","primary-text":"Entendido",onPrimary:o[7]||(o[7]=a=>f.value=!1),onClose:o[8]||(o[8]=a=>f.value=!1)},null,8,["show"])]),_:1})],64))}};export{ae as default};

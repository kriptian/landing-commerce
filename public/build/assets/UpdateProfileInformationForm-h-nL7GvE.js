import{K as $,r as k,p as S,a as g,o as v,e as s,b as l,f as _,u as a,g as I,O as N,P as T,d as b,m as y,s as V}from"./app-9mQJuWzP.js";import{_ as r,a as n,b as u}from"./TextInput-Cdusnf7X.js";import{P as C}from"./PrimaryButton-DD7mZGkZ.js";import{_ as h}from"./SecondaryButton-ESrZDC4e.js";import{_ as B}from"./AlertModal-c2YCcOTS.js";import"./Modal-CBuPActV.js";const E={key:0,class:"space-y-6 border-t pt-6"},F={class:"mt-2 flex items-center space-x-6"},R={key:0},z=["src"],D={key:1},q={class:"flex items-center gap-4"},H={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(w){const f=$().props.auth.user,i=f.store,c=k(!1),o=S({_method:"patch",name:f.name,email:f.email,store_name:i?.name||"",logo:null,facebook_url:i?.facebook_url||"",instagram_url:i?.instagram_url||"",tiktok_url:i?.tiktok_url||"",custom_domain:i?.custom_domain||""}),d=k(null),p=k(null),x=()=>{const m=p.value.files[0];if(!m)return;const e=new FileReader;e.onload=t=>{d.value=t.target.result},e.readAsDataURL(m)},U=()=>{p.value.click()},P=()=>{p.value&&(p.value.value=null)},L=()=>{o.post(route("profile.update"),{onSuccess:()=>{P(),d.value=null,c.value=!0}})};return(m,e)=>(v(),g("section",null,[s("header",null,[e[10]||(e[10]=s("h2",{class:"text-lg font-medium text-gray-900"}," Información de Perfil y Tienda ",-1)),l(B,{show:c.value,type:"success",title:"¡Perfil actualizado!",message:"Los datos de tu perfil y tienda se guardaron correctamente.","primary-text":"Entendido",onPrimary:e[0]||(e[0]=t=>c.value=!1),onClose:e[1]||(e[1]=t=>c.value=!1)},null,8,["show"]),e[11]||(e[11]=s("p",{class:"mt-1 text-sm text-gray-600"}," Actualiza la información de tu cuenta, nombre, logo y redes sociales de tu tienda. ",-1))]),s("form",{onSubmit:V(L,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[l(r,{for:"name",value:"Tu Nombre"}),l(n,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a(o).name,"onUpdate:modelValue":e[2]||(e[2]=t=>a(o).name=t),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.name},null,8,["message"])]),s("div",null,[l(r,{for:"email",value:"Email"}),l(n,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:a(o).email,"onUpdate:modelValue":e[3]||(e[3]=t=>a(o).email=t),required:"",autocomplete:"username"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.email},null,8,["message"])]),m.$page.props.auth.user.store?(v(),g("div",E,[s("div",null,[l(r,{for:"store_name",value:"Nombre de la Tienda"}),l(n,{id:"store_name",type:"text",class:"mt-1 block w-full",modelValue:a(o).store_name,"onUpdate:modelValue":e[4]||(e[4]=t=>a(o).store_name=t),required:"",autocomplete:"organization"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.store_name},null,8,["message"])]),s("div",null,[l(r,{for:"logo",value:"Logo de la Tienda"}),s("div",F,[m.$page.props.auth.user.store.logo_url&&!d.value?(v(),g("div",R,[s("img",{src:m.$page.props.auth.user.store.logo_url,class:"h-20 w-20 rounded-full object-cover"},null,8,z)])):_("",!0),I(s("div",null,[s("span",{class:"block h-20 w-20 rounded-full bg-cover bg-no-repeat bg-center",style:T("background-image: url('"+d.value+"');")},null,4)],512),[[N,d.value]]),l(h,{type:"button",onClick:V(U,["prevent"])},{default:b(()=>[...e[12]||(e[12]=[y(" Seleccionar Logo ",-1)])]),_:1})]),s("input",{ref_key:"logoInput",ref:p,type:"file",class:"hidden",onInput:e[5]||(e[5]=t=>a(o).logo=t.target.files[0]),onChange:x},null,544),l(u,{message:a(o).errors.logo,class:"mt-2"},null,8,["message"])]),s("div",null,[l(r,{for:"custom_domain",value:"Dominio propio (opcional)"}),l(n,{id:"custom_domain",type:"text",class:"mt-1 block w-full",modelValue:a(o).custom_domain,"onUpdate:modelValue":e[6]||(e[6]=t=>a(o).custom_domain=t),autocomplete:"off",placeholder:"tienda.midominio.com"},null,8,["modelValue"]),e[13]||(e[13]=s("p",{class:"text-xs text-gray-500 mt-1"},"Apunta tu DNS a este servidor. Si lo defines, tu catálogo abrirá ahí.",-1)),l(u,{class:"mt-2",message:a(o).errors.custom_domain},null,8,["message"])]),s("div",null,[l(r,{for:"facebook_url",value:"URL de Facebook"}),l(n,{id:"facebook_url",type:"url",class:"mt-1 block w-full",modelValue:a(o).facebook_url,"onUpdate:modelValue":e[7]||(e[7]=t=>a(o).facebook_url=t),autocomplete:"off",placeholder:"https://facebook.com/tutienda"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.facebook_url},null,8,["message"])]),s("div",null,[l(r,{for:"instagram_url",value:"URL de Instagram"}),l(n,{id:"instagram_url",type:"url",class:"mt-1 block w-full",modelValue:a(o).instagram_url,"onUpdate:modelValue":e[8]||(e[8]=t=>a(o).instagram_url=t),autocomplete:"off",placeholder:"https://instagram.com/tutienda"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.instagram_url},null,8,["message"])]),s("div",null,[l(r,{for:"tiktok_url",value:"URL de TikTok"}),l(n,{id:"tiktok_url",type:"url",class:"mt-1 block w-full",modelValue:a(o).tiktok_url,"onUpdate:modelValue":e[9]||(e[9]=t=>a(o).tiktok_url=t),autocomplete:"off",placeholder:"https://tiktok.com/@tutienda"},null,8,["modelValue"]),l(u,{class:"mt-2",message:a(o).errors.tiktok_url},null,8,["message"])])])):_("",!0),w.mustVerifyEmail&&a(f).email_verified_at===null?(v(),g("div",D)):_("",!0),s("div",q,[l(C,{disabled:a(o).processing},{default:b(()=>[...e[14]||(e[14]=[y("Guardar Cambios",-1)])]),_:1},8,["disabled"])])],32)]))}};export{H as default};

import{r as F,u as A,c as G,B as st,C as at,D as ot,a as d,o as l,b as _,d as c,h as rt,e as k,f as t,i as p,p as m,t as i,g as N,j as S,q as T,l as $,m as f,E as K,s as Q,F as M,n as z,y as nt}from"./app-Bs-kWUPl.js";import{_ as lt}from"./AuthenticatedLayout-ivjxyNcQ.js";import{_ as J}from"./Pagination-Bo79Putn.js";import"./AlertModal-C3Qoz7bu.js";import"./Modal-WJRTHSrk.js";const dt=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Reportes de Ventas",-1),it={class:"py-12"},ct={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ut={class:"mb-6 border-b border-gray-200"},ht={class:"-mb-px flex space-x-8","aria-label":"Tabs"},pt={key:0},mt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},gt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},xt={class:"p-6"},yt=t("h3",{class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},"Ventas Totales (en el período)",-1),bt={class:"mt-1 text-3xl font-semibold text-gray-900"},_t={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ft={class:"p-6"},vt=t("h3",{class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},"Órdenes Totales (en el período)",-1),wt={class:"mt-1 text-3xl font-semibold text-gray-900"},kt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8"},St={class:"p-6"},Dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end"},Ft=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Desde",-1),Mt=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"Hasta",-1),Ct={class:"flex space-x-2"},Et=["disabled"],Vt={class:"mt-4 flex flex-wrap gap-2"},Lt=t("span",{class:"text-sm text-gray-500 mr-2 self-center"},"Rangos rápidos:",-1),Tt={class:"mb-4 border-b border-gray-200"},$t={class:"-mb-px flex space-x-8","aria-label":"Tabs"},zt={key:1},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Ot={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},jt={class:"p-6"},Bt=t("h3",{class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},"Ventas Totales",-1),Yt={class:"mt-1 text-3xl font-semibold text-gray-900"},Nt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Pt={class:"p-6"},qt=t("h3",{class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},"Total de Ventas",-1),Wt={class:"mt-1 text-3xl font-semibold text-gray-900"},It={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Ut={class:"p-6"},Xt={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end"},Ht=t("label",{for:"search_sale",class:"block text-sm font-medium text-gray-700"},"Buscar por número",-1),At=t("label",{for:"physical_start_date",class:"block text-sm font-medium text-gray-700"},"Fecha inicio",-1),Gt=t("label",{for:"physical_end_date",class:"block text-sm font-medium text-gray-700"},"Fecha fin",-1),Kt={class:"flex gap-2"},Qt=["disabled"],Jt={key:2},Zt=t("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[t("div",{class:"p-6"},[t("h3",{class:"text-lg font-semibold mb-4"},"Ventas en el Período Seleccionado"),t("p",null,"Gráfico temporalmente deshabilitado por debug")])],-1),te=[Zt],ee={key:3},se={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ae={class:"p-6 text-gray-900"},oe={class:"flex justify-between items-center mb-4"},re=t("h3",{class:"text-lg font-semibold"},"Historial de Órdenes",-1),ne=["href"],le=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{d:"M7 10a1 1 0 011-1h2V4a1 1 0 112 0v5h2a1 1 0 01.7 1.714l-3 3a1 1 0 01-1.4 0l-3-3A1 1 0 017 10z"}),t("path",{d:"M5 15a1 1 0 011 1v2a2 2 0 002 2h8a2 2 0 002-2v-2a1 1 0 112 0v2a4 4 0 01-4 4H8a4 4 0 01-4-4v-2a1 1 0 011-1z"})],-1),de={class:"pointer-events-none absolute inset-y-0 left-0 w-6 bg-gradient-to-r from-white to-transparent"},ie={class:"pointer-events-none absolute inset-y-0 right-0 w-6 bg-gradient-to-l from-white to-transparent"},ce={class:"min-w-[920px] sm:min-w-full divide-y divide-gray-200"},ue={class:"sticky top-0 z-10 bg-gray-50"},he=t("div",{class:"mx-auto my-auto h-6 w-1.5 bg-gray-300 rounded-full group-hover:bg-indigo-400"},null,-1),pe=[he],me=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Cliente",-1),ge=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Fecha",-1),xe=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Estado",-1),ye=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Total",-1),be=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Productos",-1),_e=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Cantidades",-1),fe=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"P. Unitario",-1),ve={class:"bg-white divide-y divide-gray-200"},we=["title"],ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},De={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},Me={class:"px-6 py-4 whitespace-pre-line text-sm text-gray-600 max-w-xl"},Ce={class:"font-medium"},Ee={key:0},Ve={class:"px-6 py-4 whitespace-pre-line text-sm text-gray-600"},Le={class:"px-6 py-4 whitespace-pre-line text-sm text-gray-600"},Te={key:0},$e=t("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No hay órdenes para mostrar en este período. ",-1),ze=[$e],Re={key:4},Oe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},je={class:"p-6"},Be={class:"flex justify-between items-center mb-4"},Ye=t("h3",{class:"text-lg font-semibold"},"Historial de Ventas Físicas",-1),Ne=["href"],Pe=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{d:"M7 10a1 1 0 011-1h2V4a1 1 0 112 0v5h2a1 1 0 01.7 1.714l-3 3a1 1 0 01-1.4 0l-3-3A1 1 0 017 10z"}),t("path",{d:"M5 15a1 1 0 011 1v2a2 2 0 002 2h8a2 2 0 002-2v-2a1 1 0 112 0v2a4 4 0 01-4 4H8a4 4 0 01-4-4v-2a1 1 0 011-1z"})],-1),qe={class:"overflow-x-auto"},We={class:"min-w-full divide-y divide-gray-200"},Ie=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Número"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Vendedor"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Método de Pago"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1),Ue={class:"bg-white divide-y divide-gray-200"},Xe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600"},He={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize"},Ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Je={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},Ze={class:"px-6 py-4 whitespace-nowrap text-sm"},ts={key:0},es=t("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No hay ventas para mostrar en este período. ",-1),ss=[es],Z="rep_firstcol_w_px",as=60,os=320,cs={__name:"Index",props:{orders:Object,stats:Object,filters:Object,chartData:Object,physicalSales:Object,physicalSalesStats:Object,physicalSalesFilters:Object},setup(o){const y=o,g=F("digital"),v=F("chart"),x=A({start_date:y.filters.start_date||"",end_date:y.filters.end_date||""}),b=A({start_date:y.physicalSalesFilters?.start_date||"",end_date:y.physicalSalesFilters?.end_date||"",search:y.physicalSalesFilters?.search||""}),B=()=>{g.value==="digital"?x.get(route("admin.reports.index"),{preserveState:!0,preserveScroll:!0}):b.get(route("admin.reports.index",{type:"physical"}),{preserveState:!0,preserveScroll:!0})},Y=a=>{const s=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${s}-${e}-${r}`},P=()=>{const a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())},C=a=>{const s=P();let e,r;switch(a){case"today":e=s,r=s;break;case"last7":e=new Date(s),e.setDate(e.getDate()-6),r=s;break;case"last30":e=new Date(s),e.setDate(e.getDate()-29),r=s;break;case"thisMonth":e=new Date(s.getFullYear(),s.getMonth(),1),r=new Date(s.getFullYear(),s.getMonth()+1,0);break;case"lastMonth":e=new Date(s.getFullYear(),s.getMonth()-1,1),r=new Date(s.getFullYear(),s.getMonth(),0);break;default:return}x.start_date=Y(e),x.end_date=Y(r),B()},E=a=>{const s=x.start_date,e=x.end_date;if(!s||!e)return!1;const r=P(),n=u=>Y(u),h=(u,L)=>u===L;switch(a){case"today":return h(s,n(r))&&h(e,n(r));case"last7":{const u=new Date(r);return u.setDate(u.getDate()-6),h(s,n(u))&&h(e,n(r))}case"last30":{const u=new Date(r);return u.setDate(u.getDate()-29),h(s,n(u))&&h(e,n(r))}case"thisMonth":{const u=new Date(r.getFullYear(),r.getMonth(),1),L=new Date(r.getFullYear(),r.getMonth()+1,0);return h(s,n(u))&&h(e,n(L))}case"lastMonth":{const u=new Date(r.getFullYear(),r.getMonth()-1,1),L=new Date(r.getFullYear(),r.getMonth(),0);return h(s,n(u))&&h(e,n(L))}default:return!1}};G(()=>({labels:y.chartData.labels,datasets:[{label:"Entregadas",backgroundColor:"#10B981",borderColor:"#059669",borderWidth:1,borderRadius:4,data:y.chartData.delivered,barPercentage:.6,categoryPercentage:.6},{label:"Canceladas",backgroundColor:"#EF4444",borderColor:"#DC2626",borderWidth:1,borderRadius:4,data:y.chartData.cancelled,barPercentage:.6,categoryPercentage:.6}]}));const tt=a=>{if(!a)return"";const s={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString("es-CO",s)},et=a=>a?new Date(a).toLocaleString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",w=a=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),R=F(null),q=F(!1),W=F(!1),V=()=>{const a=R.value;if(!a)return;const s=a.scrollWidth-a.clientWidth,e=a.scrollLeft||0;q.value=e>0,W.value=e<s-1};st(()=>{at(()=>V()),R.value?.addEventListener("scroll",V,{passive:!0}),window.addEventListener("resize",V)}),ot(()=>{R.value?.removeEventListener("scroll",V),window.removeEventListener("resize",V)});const D=F(Number(localStorage.getItem(Z))||160),I=G(()=>({width:D.value+"px",minWidth:D.value+"px",maxWidth:D.value+"px"}));let U=0,X=0;const O=a=>{const s=a.touches?a.touches[0].clientX:a.clientX,e=Math.max(as,Math.min(os,X+(s-U)));D.value=e},j=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",j);try{localStorage.setItem(Z,String(D.value))}catch{}},H=a=>{U=a.touches?a.touches[0].clientX:a.clientX,X=D.value,document.addEventListener("mousemove",O,{passive:!1}),document.addEventListener("mouseup",j),document.addEventListener("touchmove",O,{passive:!1}),document.addEventListener("touchend",j)};return(a,s)=>(l(),d(M,null,[_(c(rt),{title:"Reportes de Ventas"}),_(lt,null,{header:k(()=>[dt]),default:k(()=>[t("div",it,[t("div",ct,[t("div",ut,[t("nav",ht,[t("button",{onClick:s[0]||(s[0]=e=>{g.value="digital",v.value="chart"}),class:m([g.value==="digital"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Pedidos Digitales ",2),t("button",{onClick:s[1]||(s[1]=e=>g.value="physical"),class:m([g.value==="physical"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Ventas Físicas ",2)])]),g.value==="digital"?(l(),d("div",pt,[t("div",mt,[t("div",gt,[t("div",xt,[yt,t("p",bt,i(w(o.stats.totalSales)),1)])]),t("div",_t,[t("div",ft,[vt,t("p",wt,i(o.stats.totalOrders),1)])])]),t("div",kt,[t("div",St,[t("form",{onSubmit:N(B,["prevent"])},[t("div",Dt,[t("div",null,[Ft,S(t("input",{type:"date",id:"start_date","onUpdate:modelValue":s[2]||(s[2]=e=>c(x).start_date=e),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[T,c(x).start_date]])]),t("div",null,[Mt,S(t("input",{type:"date",id:"end_date","onUpdate:modelValue":s[3]||(s[3]=e=>c(x).end_date=e),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[T,c(x).end_date]])]),t("div",Ct,[t("button",{type:"submit",disabled:c(x).processing,class:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50"}," Filtrar ",8,Et),_(c($),{href:a.route("admin.reports.index"),class:"w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded hover:bg-gray-400 text-center"},{default:k(()=>[f(" Limpiar ")]),_:1},8,["href"])])]),t("div",Vt,[Lt,t("button",{type:"button",onClick:s[4]||(s[4]=e=>C("today")),class:m(["px-3 py-1 rounded-full text-sm border",E("today")?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},"Hoy",2),t("button",{type:"button",onClick:s[5]||(s[5]=e=>C("last7")),class:m(["px-3 py-1 rounded-full text-sm border",E("last7")?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},"Últimos 7 días",2),t("button",{type:"button",onClick:s[6]||(s[6]=e=>C("last30")),class:m(["px-3 py-1 rounded-full text-sm border",E("last30")?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},"Últimos 30 días",2),t("button",{type:"button",onClick:s[7]||(s[7]=e=>C("thisMonth")),class:m(["px-3 py-1 rounded-full text-sm border",E("thisMonth")?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},"Este mes",2),t("button",{type:"button",onClick:s[8]||(s[8]=e=>C("lastMonth")),class:m(["px-3 py-1 rounded-full text-sm border",E("lastMonth")?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},"Mes pasado",2)])],32)])]),t("div",Tt,[t("nav",$t,[t("button",{onClick:s[9]||(s[9]=e=>v.value="chart"),class:m([v.value==="chart"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Gráfico ",2),t("button",{onClick:s[10]||(s[10]=e=>v.value="table"),class:m([v.value==="table"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Tabla de Órdenes ",2)])])])):p("",!0),g.value==="physical"?(l(),d("div",zt,[t("div",Rt,[t("div",Ot,[t("div",jt,[Bt,t("p",Yt,i(o.physicalSalesStats?w(o.physicalSalesStats.totalSales||0):"$0"),1)])]),t("div",Nt,[t("div",Pt,[qt,t("p",Wt,i(o.physicalSalesStats&&o.physicalSalesStats.totalCount||0),1)])])]),t("div",It,[t("div",Ut,[t("form",{onSubmit:N(B,["prevent"])},[t("div",Xt,[t("div",null,[Ht,S(t("input",{type:"text",id:"search_sale","onUpdate:modelValue":s[11]||(s[11]=e=>c(b).search=e),placeholder:"Ej: V-000001",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[T,c(b).search]])]),t("div",null,[At,S(t("input",{type:"date",id:"physical_start_date","onUpdate:modelValue":s[12]||(s[12]=e=>c(b).start_date=e),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[T,c(b).start_date]])]),t("div",null,[Gt,S(t("input",{type:"date",id:"physical_end_date","onUpdate:modelValue":s[13]||(s[13]=e=>c(b).end_date=e),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[T,c(b).end_date]])]),t("div",Kt,[t("button",{type:"submit",disabled:c(b).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"}," Filtrar ",8,Qt),_(c($),{href:a.route("admin.reports.index",{type:"physical"}),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 text-center"},{default:k(()=>[f(" Limpiar ")]),_:1},8,["href"])])])],32)])])])):p("",!0),g.value==="digital"&&v.value==="chart"?(l(),d("div",Jt,te)):p("",!0),g.value==="digital"&&v.value==="table"?(l(),d("div",ee,[t("div",se,[t("div",ae,[t("div",oe,[re,o.orders.data.length>0?(l(),d("a",{key:0,href:a.route("admin.reports.export",{start_date:o.filters.start_date,end_date:o.filters.end_date}),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"},[le,f(" Exportar a Excel ")],8,ne)):p("",!0)]),t("div",{ref_key:"scrollBoxRef",ref:R,class:"relative overflow-x-auto"},[S(t("div",de,null,512),[[K,q.value]]),S(t("div",ie,null,512),[[K,W.value]]),t("table",ce,[t("thead",ue,[t("tr",null,[t("th",{class:"sticky left-0 z-20 bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap relative",style:Q(I.value)},[f(" Orden # "),t("div",{onMousedown:H,onTouchstart:N(H,["prevent"]),class:"absolute top-0 right-0 h-full w-3 cursor-col-resize group"},pe,32)],4),me,ge,xe,ye,be,_e,fe])]),t("tbody",ve,[(l(!0),d(M,null,z(o.orders.data,(e,r)=>(l(),d("tr",{key:e.id,class:"odd:bg-white even:bg-gray-100"},[t("td",{class:m(["sticky left-0 z-10 px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 hover:underline border-r truncate",r%2===1?"bg-gray-100":"bg-white"]),style:Q(I.value),title:e.sequence_number||e.id},[_(c($),{href:a.route("admin.orders.show",e.id)},{default:k(()=>[f(i(e.sequence_number||e.sequence_number===0?e.sequence_number:e.id),1)]),_:2},1032,["href"])],14,we),t("td",ke,i(e.customer_name),1),t("td",Se,i(tt(e.created_at)),1),t("td",De,[t("span",{class:m(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":e.status==="entregado","bg-yellow-100 text-yellow-800":e.status==="recibido","bg-blue-100 text-blue-800":e.status==="en_preparacion","bg-purple-100 text-purple-800":e.status==="despachado","bg-red-100 text-red-800":e.status==="cancelado"}])},i(e.status),3)]),t("td",Fe,i(w(e.total_price)),1),t("td",Me,[(l(!0),d(M,null,z(e.items,n=>(l(),d("div",{key:n.id},[t("span",Ce,i(n.product_name||n.product?.name),1),n.variant_options||n.variant?.options?(l(),d("span",Ee," ("+i(Object.entries(n.variant_options||n.variant?.options||{}).map(([h,u])=>`${h}: ${u}`).join(", "))+") ",1)):p("",!0)]))),128))]),t("td",Ve,[(l(!0),d(M,null,z(e.items,n=>(l(),d("div",{key:"q"+n.id},i(n.quantity),1))),128))]),t("td",Le,[(l(!0),d(M,null,z(e.items,n=>(l(),d("div",{key:"p"+n.id},i(w(n.unit_price)),1))),128))])]))),128)),o.orders.data.length===0?(l(),d("tr",Te,ze)):p("",!0)])])],512),_(J,{class:"mt-6",links:o.orders.links},null,8,["links"])])])])):p("",!0),g.value==="physical"?(l(),d("div",Re,[t("div",Oe,[t("div",je,[t("div",Be,[Ye,o.physicalSales&&o.physicalSales.data&&o.physicalSales.data.length>0?(l(),d("a",{key:0,href:a.route("admin.physical-sales.export",{start_date:o.physicalSalesFilters?.start_date,end_date:o.physicalSalesFilters?.end_date}),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition"},[Pe,f(" Exportar a Excel ")],8,Ne)):p("",!0)]),t("div",qe,[t("table",We,[Ie,t("tbody",Ue,[(l(!0),d(M,null,z(o.physicalSales?.data,e=>(l(),d("tr",{key:e.id},[t("td",Xe,[_(c($),{href:a.route("admin.physical-sales.show",e.id),class:"hover:underline"},{default:k(()=>[f(i(e.sale_number),1)]),_:2},1032,["href"])]),t("td",He,i(e.user?.name||"N/A"),1),t("td",Ae,i(et(e.created_at)),1),t("td",Ge,i(e.payment_method),1),t("td",Ke,i(w(e.subtotal)),1),t("td",Qe,i(w(e.discount)),1),t("td",Je,i(w(e.total)),1),t("td",Ze,[_(c($),{href:a.route("admin.physical-sales.show",e.id),class:"text-blue-600 hover:text-blue-900"},{default:k(()=>[f(" Ver ")]),_:2},1032,["href"])])]))),128)),!o.physicalSales||!o.physicalSales.data||o.physicalSales.data.length===0?(l(),d("tr",ts,ss)):p("",!0)])])]),o.physicalSales&&o.physicalSales.links?(l(),nt(J,{key:0,class:"mt-6",links:o.physicalSales.links},null,8,["links"])):p("",!0)])])])):p("",!0)])])]),_:1})],64))}};export{cs as default};

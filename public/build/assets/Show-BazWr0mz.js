import{_ as b}from"./AuthenticatedLayout-5xUCRb8P.js";import{G as v,c as w,B as k,a as n,o as a,b as x,y as F,d as m,h as $,f as t,t as e,i,F as r,n as p,e as _,l as V,m as j}from"./app-C04DUSiu.js";import"./AlertModal-DtHBd2Ir.js";import"./Modal-BUU1pLA-.js";const P={key:0,class:"min-h-screen bg-gray-50"},N={class:"bg-white border-b border-gray-200 px-6 py-4 no-print"},S={class:"flex items-center justify-between max-w-4xl mx-auto"},D={class:"font-semibold text-xl text-gray-800"},C={class:"flex gap-2"},B={class:"py-12"},I={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},z={class:"print-store-header"},L={key:0,class:"text-center text-2xl font-bold mb-6 pb-4 border-b-2 border-black"},O={key:0,class:"watermark-container"},T={class:"watermark-text"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg relative z-10"},U={class:"p-6"},q={class:"mb-6"},A=t("h3",{class:"text-lg font-semibold mb-4"},"InformaciÃ³n de la Venta",-1),R={class:"grid grid-cols-2 gap-4"},E=t("p",{class:"text-sm text-gray-500"},"NÃºmero de Venta",-1),G={class:"font-medium"},H=t("p",{class:"text-sm text-gray-500"},"Fecha",-1),J={class:"font-medium"},K=t("p",{class:"text-sm text-gray-500"},"Vendedor",-1),Q={class:"font-medium"},W=t("p",{class:"text-sm text-gray-500"},"MÃ©todo de Pago",-1),X={class:"font-medium capitalize"},Y={key:0,class:"mt-4"},Z=t("p",{class:"text-sm text-gray-500"},"Notas",-1),tt={class:"font-medium"},et={class:"mb-6"},st=t("h3",{class:"text-lg font-semibold mb-4"},"Productos Vendidos",-1),ot={class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200"},nt=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Producto"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cantidad"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Precio Unit."),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal")])],-1),it={class:"bg-white divide-y divide-gray-200"},dt={class:"px-4 py-3"},lt={class:"font-medium"},ct={key:0,class:"text-sm text-gray-500"},rt={class:"px-4 py-3"},_t={class:"px-4 py-3"},ut={key:0},ht={class:"text-sm text-gray-400 line-through"},xt={class:"font-medium"},mt={key:1},pt={class:"px-4 py-3"},yt={key:0,class:"text-sm text-green-600 font-medium"},gt={key:1,class:"text-sm text-gray-400"},ft={class:"px-4 py-3 font-medium"},bt={class:"border-t pt-4"},vt={class:"flex justify-end"},wt={class:"w-64 space-y-2"},kt={class:"flex justify-between"},Ft=t("span",null,"Subtotal:",-1),$t={key:0,class:"flex justify-between text-red-600"},Vt=t("span",null,"Descuento manual:",-1),jt={class:"flex justify-between text-lg font-bold pt-2 border-t"},Pt=t("span",null,"Total:",-1),Nt={class:"flex items-center justify-between"},St={class:"font-semibold text-xl text-gray-800 leading-tight"},Dt={class:"flex gap-2"},Ct={class:"py-12"},Bt={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},It={class:"print-store-header"},zt={key:0,class:"text-center text-2xl font-bold mb-6 pb-4 border-b-2 border-black"},Lt={key:0,class:"watermark-container"},Ot={class:"watermark-text"},Tt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg relative z-10"},Mt={class:"p-6"},Ut={class:"mb-6"},qt=t("h3",{class:"text-lg font-semibold mb-4"},"InformaciÃ³n de la Venta",-1),At={class:"grid grid-cols-2 gap-4"},Rt=t("p",{class:"text-sm text-gray-500"},"NÃºmero de Venta",-1),Et={class:"font-medium"},Gt=t("p",{class:"text-sm text-gray-500"},"Fecha",-1),Ht={class:"font-medium"},Jt=t("p",{class:"text-sm text-gray-500"},"Vendedor",-1),Kt={class:"font-medium"},Qt=t("p",{class:"text-sm text-gray-500"},"MÃ©todo de Pago",-1),Wt={class:"font-medium capitalize"},Xt={key:0,class:"mt-4"},Yt=t("p",{class:"text-sm text-gray-500"},"Notas",-1),Zt={class:"font-medium"},te={class:"mb-6"},ee=t("h3",{class:"text-lg font-semibold mb-4"},"Productos Vendidos",-1),se={class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200"},ae=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Producto"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cantidad"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Precio Unit."),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal")])],-1),ne={class:"bg-white divide-y divide-gray-200"},ie={class:"px-4 py-3"},de={class:"font-medium"},le={key:0,class:"text-sm text-gray-500"},ce={class:"px-4 py-3"},re={class:"px-4 py-3"},_e={key:0},ue={class:"text-sm text-gray-400 line-through"},he={class:"font-medium"},xe={key:1},me={class:"px-4 py-3"},pe={key:0,class:"text-sm text-green-600 font-medium"},ye={key:1,class:"text-sm text-gray-400"},ge={class:"px-4 py-3 font-medium"},fe={class:"border-t pt-4"},be={class:"flex justify-end"},ve={class:"w-64 space-y-2"},we={class:"flex justify-between"},ke=t("span",null,"Subtotal:",-1),Fe={key:0,class:"flex justify-between text-red-600"},$e=t("span",null,"Descuento manual:",-1),Ve={class:"flex justify-between text-lg font-bold pt-2 border-t"},je=t("span",null,"Total:",-1),Ce={__name:"Show",props:{sale:Object,store:Object},setup(s){const y=v(),g=w(()=>(y.props.auth?.roles||[]).includes("physical-sales")),f=()=>new URLSearchParams(window.location.search).get("print")==="true",u=()=>{window.print()};return k(()=>{f()&&setTimeout(()=>{window.print()},500)}),(d,h)=>(a(),n(r,null,[x(m($),{title:"Detalle de Venta"}),g.value?(a(),n("div",P,[t("div",N,[t("div",S,[t("h2",D," Venta #"+e(s.sale.sale_number),1),t("div",C,[t("button",{onClick:u,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," ðŸ–¨ï¸ Imprimir "),t("button",{onClick:h[0]||(h[0]=o=>d.$inertia.visit(d.route("admin.physical-sales.index"))),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Volver ")])])]),t("div",B,[t("div",I,[t("div",z,[s.store?.name?(a(),n("h1",L,e(s.store.name),1)):i("",!0)]),s.store?.name?(a(),n("div",O,[t("div",T,e(s.store.name),1)])):i("",!0),t("div",M,[t("div",U,[t("div",q,[A,t("div",R,[t("div",null,[E,t("p",G,"#"+e(s.sale.sale_number),1)]),t("div",null,[H,t("p",J,e(new Date(s.sale.created_at).toLocaleString()),1)]),t("div",null,[K,t("p",Q,e(s.sale.user?.name||"N/A"),1)]),t("div",null,[W,t("p",X,e(s.sale.payment_method),1)])]),s.sale.notes?(a(),n("div",Y,[Z,t("p",tt,e(s.sale.notes),1)])):i("",!0)]),t("div",et,[st,t("div",ot,[t("table",at,[nt,t("tbody",it,[(a(!0),n(r,null,p(s.sale.items,o=>(a(),n("tr",{key:o.id},[t("td",dt,[t("p",lt,e(o.product_name),1),o.variant_options?(a(),n("p",ct,e(Object.entries(o.variant_options).map(([l,c])=>`${l}: ${c}`).join(", ")),1)):i("",!0)]),t("td",rt,e(o.quantity),1),t("td",_t,[o.original_price&&o.original_price>o.unit_price?(a(),n("div",ut,[t("p",ht,"$"+e(parseFloat(o.original_price).toFixed(2)),1),t("p",xt,"$"+e(parseFloat(o.unit_price).toFixed(2)),1)])):(a(),n("p",mt,"$"+e(parseFloat(o.unit_price).toFixed(2)),1))]),t("td",pt,[o.discount_percent>0?(a(),n("span",yt," -"+e(o.discount_percent)+"% ",1)):(a(),n("span",gt,"-"))]),t("td",ft,"$"+e(parseFloat(o.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",bt,[t("div",vt,[t("div",wt,[t("div",kt,[Ft,t("span",null,"$"+e(parseFloat(s.sale.subtotal).toFixed(2)),1)]),s.sale.discount>0?(a(),n("div",$t,[Vt,t("span",null,"-$"+e(parseFloat(s.sale.discount).toFixed(2)),1)])):i("",!0),t("div",jt,[Pt,t("span",null,"$"+e(parseFloat(s.sale.total).toFixed(2)),1)])])])])])])])])])):(a(),F(b,{key:1},{header:_(()=>[t("div",Nt,[t("h2",St," Venta #"+e(s.sale.sale_number),1),t("div",Dt,[t("button",{onClick:u,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 no-print"}," ðŸ–¨ï¸ Imprimir "),x(m(V),{href:d.route("admin.physical-sales.index"),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 no-print"},{default:_(()=>[j(" Volver ")]),_:1},8,["href"])])])]),default:_(()=>[t("div",Ct,[t("div",Bt,[t("div",It,[s.store?.name?(a(),n("h1",zt,e(s.store.name),1)):i("",!0)]),s.store?.name?(a(),n("div",Lt,[t("div",Ot,e(s.store.name),1)])):i("",!0),t("div",Tt,[t("div",Mt,[t("div",Ut,[qt,t("div",At,[t("div",null,[Rt,t("p",Et,"#"+e(s.sale.sale_number),1)]),t("div",null,[Gt,t("p",Ht,e(new Date(s.sale.created_at).toLocaleString()),1)]),t("div",null,[Jt,t("p",Kt,e(s.sale.user?.name||"N/A"),1)]),t("div",null,[Qt,t("p",Wt,e(s.sale.payment_method),1)])]),s.sale.notes?(a(),n("div",Xt,[Yt,t("p",Zt,e(s.sale.notes),1)])):i("",!0)]),t("div",te,[ee,t("div",se,[t("table",oe,[ae,t("tbody",ne,[(a(!0),n(r,null,p(s.sale.items,o=>(a(),n("tr",{key:o.id},[t("td",ie,[t("p",de,e(o.product_name),1),o.variant_options?(a(),n("p",le,e(Object.entries(o.variant_options).map(([l,c])=>`${l}: ${c}`).join(", ")),1)):i("",!0)]),t("td",ce,e(o.quantity),1),t("td",re,[o.original_price&&o.original_price>o.unit_price?(a(),n("div",_e,[t("p",ue,"$"+e(parseFloat(o.original_price).toFixed(2)),1),t("p",he,"$"+e(parseFloat(o.unit_price).toFixed(2)),1)])):(a(),n("p",xe,"$"+e(parseFloat(o.unit_price).toFixed(2)),1))]),t("td",me,[o.discount_percent>0?(a(),n("span",pe," -"+e(o.discount_percent)+"% ",1)):(a(),n("span",ye,"-"))]),t("td",ge,"$"+e(parseFloat(o.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",fe,[t("div",be,[t("div",ve,[t("div",we,[ke,t("span",null,"$"+e(parseFloat(s.sale.subtotal).toFixed(2)),1)]),s.sale.discount>0?(a(),n("div",Fe,[$e,t("span",null,"-$"+e(parseFloat(s.sale.discount).toFixed(2)),1)])):i("",!0),t("div",Ve,[je,t("span",null,"$"+e(parseFloat(s.sale.total).toFixed(2)),1)])])])])])])])])]),_:1}))],64))}};export{Ce as default};

import{_ as b}from"./AuthenticatedLayout-PmA-gZnP.js";import{r as n,a as d,o as c,b as s,u as p,h as C,d as o,e,l as x,f as k,F as g,j as M,t as f,i as v,k as E}from"./app-CdEBBWGl.js";import{_ as N}from"./Modal-gcK9qcMR.js";import{_ as V}from"./SecondaryButton-DpPNSbPE.js";import{D as z}from"./DangerButton-B6vWHv1A.js";import{_ as A}from"./AlertModal-BlmVJJtF.js";const B=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Gestionar Categorías",-1),D={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-4"},S=e("p",null,"Aquí podés crear, editar y eliminar las categorías de tus productos.",-1),q=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 0 1 2-2h7l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4zm9-1.5V7h4.5L13 2.5z"}),e("path",{d:"M8 13h8v2H8zM8 9h5v2H8z"})],-1),F=e("span",null,"Crear",-1),G={class:"overflow-x-auto"},I={class:"min-w-[600px] w-full divide-y divide-gray-200 table-auto"},T=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nombre"),e("th",{class:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1),P={class:"bg-white divide-y divide-gray-200"},J={key:0},K=e("td",{colspan:"3",class:"px-3 py-3 sm:px-6 sm:py-4 text-center text-gray-500"},"No hay categorías creadas.",-1),O=[K],Q={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},R={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap"},U={class:"px-3 py-3 sm:px-6 sm:py-4 whitespace-nowrap text-sm font-medium"},W={class:"flex items-center gap-2"},X=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16.862 3.487a2.25 2.25 0 113.182 3.182L9.428 17.284a3.75 3.75 0 01-1.582.992l-2.685.805a.75.75 0 01-.93-.93l.805-2.685a3.75 3.75 0 01.992-1.582L16.862 3.487z"}),e("path",{d:"M15.75 4.5l3.75 3.75"})],-1),Y=["onClick"],Z=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.5V6h3.75a.75.75 0 010 1.5H3.75A.75.75 0 013 6h3.75V4.5A2.25 2.25 0 019 2.25h6A2.25 2.25 0 0117.25 4.5zM5.625 7.5h12.75l-.701 10.518A2.25 2.25 0 0115.43 20.25H8.57a2.25 2.25 0 01-2.244-2.232L5.625 7.5z","clip-rule":"evenodd"})],-1),ee=[Z],te={class:"p-6"},se=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que querés eliminar esta categoría? ",-1),ae=e("p",{class:"mt-1 text-sm text-gray-600"}," Esta acción es irreversible. Se borrará la categoría y todas sus subcategorías. ",-1),oe={class:"mt-6 flex justify-end"},ue={__name:"Index",props:{categories:Array},setup(_){const i=n(!1),m=n(""),u=n(!1),h=n(null),y=t=>{h.value=t,u.value=!0},r=()=>{u.value=!1,h.value=null},w=()=>{E.delete(route("admin.categories.destroy",h.value),{preserveScroll:!0,onSuccess:()=>{r(),m.value="¡Categoría eliminada con éxito!",i.value=!0},onError:t=>{r();const l=t&&(t.delete||t.message)||"No se pudo eliminar: existen productos asociados.";m.value=l,i.value=!0}})};return(t,l)=>(c(),d(g,null,[s(p(C),{title:"Gestionar Categorías"}),s(b,null,{header:o(()=>[B]),default:o(()=>[e("div",D,[e("div",$,[e("div",j,[e("div",H,[e("div",L,[S,s(p(x),{href:t.route("admin.categories.create"),class:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow"},{default:o(()=>[q,F]),_:1},8,["href"])]),e("div",G,[e("table",I,[T,e("tbody",P,[_.categories.length===0?(c(),d("tr",J,O)):k("",!0),(c(!0),d(g,null,M(_.categories,a=>(c(),d("tr",{key:a.id},[e("td",Q,f(a.id),1),e("td",R,f(a.name),1),e("td",U,[e("div",W,[s(p(x),{href:t.route("admin.categories.edit",a.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-indigo-600",title:"Editar"},{default:o(()=>[X]),_:2},1032,["href"]),e("button",{onClick:le=>y(a.id),class:"w-8 h-8 inline-flex items-center justify-center rounded hover:bg-gray-100 text-red-600",title:"Eliminar"},ee,8,Y)])])]))),128))])])])])])])])]),_:1}),s(N,{show:u.value,onClose:r},{default:o(()=>[e("div",te,[se,ae,e("div",oe,[s(V,{onClick:r},{default:o(()=>[v(" Cancelar ")]),_:1}),s(z,{class:"ms-3",onClick:w},{default:o(()=>[v(" Sí, Eliminar Categoría ")]),_:1})])])]),_:1},8,["show"]),s(A,{show:i.value,type:"error",title:"Categorías",message:m.value,"primary-text":"Entendido",onPrimary:l[0]||(l[0]=a=>i.value=!1),onClose:l[1]||(l[1]=a=>i.value=!1)},null,8,["show","message"])],64))}};export{ue as default};

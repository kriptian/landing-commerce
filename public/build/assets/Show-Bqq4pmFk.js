import{_ as v}from"./AuthenticatedLayout-BqNxN2Jo.js";import{a,o as n,b as _,d as g,h as p,e as u,f as t,i as c,t as e,F as r,n as h,p as y,m as x,l as w}from"./app-jj45mSch.js";import"./AlertModal-BlcY9iFS.js";import"./Modal-VmM5Rn9F.js";const k={class:"flex items-center justify-between"},C={class:"font-semibold text-xl text-gray-800 leading-tight"},O={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},P={class:"p-6"},j=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Información del Cliente",-1),F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T=t("p",{class:"text-sm text-gray-600"},"Nombre",-1),V={class:"text-base font-medium text-gray-900"},E=t("p",{class:"text-sm text-gray-600"},"Email",-1),S={class:"text-base font-medium text-gray-900"},q=t("p",{class:"text-sm text-gray-600"},"Teléfono",-1),A={class:"text-base font-medium text-gray-900"},B=t("p",{class:"text-sm text-gray-600"},"Fecha de Registro",-1),z={class:"text-base font-medium text-gray-900"},I={key:0,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},L={class:"p-6"},R=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Direcciones",-1),$={class:"space-y-3"},G={class:"flex items-start justify-between"},H={class:"flex items-center gap-2 mb-2"},J={class:"font-semibold text-gray-900"},K={key:0,class:"text-xs bg-blue-500 text-white px-2 py-1 rounded"},M={class:"text-sm text-gray-600"},Q={key:0,class:"text-sm text-gray-600"},U={class:"text-sm text-gray-600"},W={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},Y=t("p",{class:"text-sm text-gray-600 mb-1"},"Total de Pedidos",-1),Z={class:"text-3xl font-bold text-gray-900"},tt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},et=t("p",{class:"text-sm text-gray-600 mb-1"},"Total Gastado",-1),st={class:"text-3xl font-bold text-gray-900"},ot={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},at=t("p",{class:"text-sm text-gray-600 mb-1"},"Ticket Promedio",-1),nt={class:"text-3xl font-bold text-gray-900"},dt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},it=t("p",{class:"text-sm text-gray-600 mb-1"},"Último Pedido",-1),lt={class:"text-sm font-medium text-gray-900"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},rt={class:"p-6"},mt=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pedidos Recientes",-1),_t={key:0,class:"space-y-4"},ut={class:"flex items-start justify-between mb-3"},ht={class:"font-semibold text-gray-900"},xt={class:"text-sm text-gray-600"},gt={class:"text-right"},yt={class:"font-bold text-gray-900"},bt={class:"space-y-2"},ft={class:"text-gray-700"},vt={class:"text-gray-900 font-medium"},pt={key:0,class:"mt-3 pt-3 border-t text-sm text-gray-600"},wt=t("strong",null,"Envío a:",-1),kt={key:1,class:"mt-2 text-sm text-green-600"},Ct=t("strong",null,"Cupón aplicado:",-1),Ot={key:1,class:"text-gray-500 text-center py-8"},Ft={__name:"Show",props:{customer:Object,stats:Object,recentOrders:Array},setup(o){const i=d=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),m=d=>new Date(d).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=d=>({recibido:"bg-yellow-100 text-yellow-800",en_proceso:"bg-blue-100 text-blue-800",entregado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800";return(d,f)=>(n(),a(r,null,[_(g(p),{title:`Cliente: ${o.customer.name}`},null,8,["title"]),_(v,null,{header:u(()=>[t("div",k,[t("h2",C,"Cliente: "+e(o.customer.name),1),_(g(w),{href:d.route("admin.customers.index"),class:"text-sm text-gray-600 hover:text-gray-800"},{default:u(()=>[x(" ← Volver a clientes ")]),_:1},8,["href"])])]),default:u(()=>[t("div",O,[t("div",D,[t("div",N,[t("div",P,[j,t("div",F,[t("div",null,[T,t("p",V,e(o.customer.name),1)]),t("div",null,[E,t("p",S,e(o.customer.email),1)]),t("div",null,[q,t("p",A,e(o.customer.phone||"N/A"),1)]),t("div",null,[B,t("p",z,e(m(o.customer.created_at)),1)])])])]),o.customer.addresses&&o.customer.addresses.length>0?(n(),a("div",I,[t("div",L,[R,t("div",$,[(n(!0),a(r,null,h(o.customer.addresses,s=>(n(),a("div",{key:s.id,class:y(["border rounded-lg p-4",{"border-blue-500 bg-blue-50":s.is_default}])},[t("div",G,[t("div",null,[t("div",H,[t("span",J,e(s.label),1),s.is_default?(n(),a("span",K,"Predeterminada")):c("",!0)]),t("p",M,e(s.address_line_1),1),s.address_line_2?(n(),a("p",Q,e(s.address_line_2),1)):c("",!0),t("p",U,e(s.city)+e(s.state?", "+s.state:""),1)])])],2))),128))])])])):c("",!0),t("div",W,[t("div",X,[Y,t("p",Z,e(o.stats.total_orders),1)]),t("div",tt,[et,t("p",st,e(i(o.stats.total_spent)),1)]),t("div",ot,[at,t("p",nt,e(i(o.stats.average_order_value||0)),1)]),t("div",dt,[it,t("p",lt,e(o.stats.last_order_date?m(o.stats.last_order_date):"N/A"),1)])]),t("div",ct,[t("div",rt,[mt,o.recentOrders&&o.recentOrders.length>0?(n(),a("div",_t,[(n(!0),a(r,null,h(o.recentOrders,s=>(n(),a("div",{key:s.id,class:"border rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",ut,[t("div",null,[t("p",ht,"Pedido #"+e(s.sequence_number),1),t("p",xt,e(m(s.created_at)),1)]),t("div",gt,[t("p",yt,e(i(s.total_price)),1),t("span",{class:y(["inline-block px-2 py-1 rounded text-xs font-medium mt-1",b(s.status)])},e(s.status),3)])]),t("div",bt,[(n(!0),a(r,null,h(s.items,l=>(n(),a("div",{key:l.id,class:"flex items-center justify-between text-sm"},[t("span",ft,e(l.product_name)+" x"+e(l.quantity),1),t("span",vt,e(i(l.unit_price*l.quantity)),1)]))),128))]),s.address?(n(),a("div",pt,[t("p",null,[wt,x(" "+e(s.address.address_line_1)+", "+e(s.address.city),1)])])):c("",!0),s.coupon?(n(),a("div",kt,[t("p",null,[Ct,x(" "+e(s.coupon.code)+" (Descuento: "+e(i(s.discount_amount||0))+")",1)])])):c("",!0)]))),128))])):(n(),a("p",Ot," Este cliente aún no ha realizado ningún pedido "))])])])])]),_:1})],64))}};export{Ft as default};

import{N as P,r as v,z as $,b as g,d as _,g as s,e,i as k,u as o,j as N,p as S,q as I,f as b,k as y,s as V}from"./app-ijieBWjj.js";import{_ as r,a as n,b as u}from"./TextInput-CEjY3ohg.js";import{P as T}from"./PrimaryButton-B3Y7heUB.js";import{_ as C}from"./SecondaryButton-OJ_8WR2a.js";import{_ as z}from"./AlertModal-umKF0p8V.js";import"./Modal-CUzlKsrL.js";const B=s("h2",{class:"text-lg font-medium text-gray-900"}," Información de Perfil y Tienda ",-1),E=s("p",{class:"mt-1 text-sm text-gray-600"}," Actualiza la información de tu cuenta, nombre, logo y redes sociales de tu tienda. ",-1),F={key:0,class:"space-y-6 border-t pt-6"},R={class:"mt-2 flex items-center space-x-6"},q={key:0},D=["src"],A=s("p",{class:"text-xs text-gray-500 mt-1"},"Apunta tu DNS a este servidor. Si lo defines, tu catálogo abrirá ahí.",-1),j={key:1},G={class:"flex items-center gap-4"},W={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(w){const p=P().props.auth.user,i=p.store,f=v(!1),l=$({_method:"patch",name:p.name,email:p.email,store_name:i?.name||"",logo:null,facebook_url:i?.facebook_url||"",instagram_url:i?.instagram_url||"",tiktok_url:i?.tiktok_url||"",custom_domain:i?.custom_domain||""}),d=v(null),c=v(null),h=()=>{const m=c.value.files[0];if(!m)return;const a=new FileReader;a.onload=t=>{d.value=t.target.result},a.readAsDataURL(m)},x=()=>{c.value.click()},U=()=>{c.value&&(c.value.value=null)},L=()=>{l.post(route("profile.update"),{onSuccess:()=>{U(),d.value=null,f.value=!0}})};return(m,a)=>(_(),g("section",null,[s("header",null,[B,e(z,{show:f.value,type:"success",title:"¡Perfil actualizado!",message:"Los datos de tu perfil y tienda se guardaron correctamente.","primary-text":"Entendido",onPrimary:a[0]||(a[0]=t=>f.value=!1),onClose:a[1]||(a[1]=t=>f.value=!1)},null,8,["show"]),E]),s("form",{onSubmit:V(L,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[e(r,{for:"name",value:"Tu Nombre"}),e(n,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(l).name,"onUpdate:modelValue":a[2]||(a[2]=t=>o(l).name=t),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.name},null,8,["message"])]),s("div",null,[e(r,{for:"email",value:"Email"}),e(n,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(l).email,"onUpdate:modelValue":a[3]||(a[3]=t=>o(l).email=t),required:"",autocomplete:"username"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.email},null,8,["message"])]),m.$page.props.auth.user.store?(_(),g("div",F,[s("div",null,[e(r,{for:"store_name",value:"Nombre de la Tienda"}),e(n,{id:"store_name",type:"text",class:"mt-1 block w-full",modelValue:o(l).store_name,"onUpdate:modelValue":a[4]||(a[4]=t=>o(l).store_name=t),required:"",autocomplete:"organization"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.store_name},null,8,["message"])]),s("div",null,[e(r,{for:"logo",value:"Logo de la Tienda"}),s("div",R,[m.$page.props.auth.user.store.logo_url&&!d.value?(_(),g("div",q,[s("img",{src:m.$page.props.auth.user.store.logo_url,class:"h-20 w-20 rounded-full object-cover"},null,8,D)])):k("",!0),N(s("div",null,[s("span",{class:"block h-20 w-20 rounded-full bg-cover bg-no-repeat bg-center",style:I("background-image: url('"+d.value+"');")},null,4)],512),[[S,d.value]]),e(C,{type:"button",onClick:V(x,["prevent"])},{default:b(()=>[y(" Seleccionar Logo ")]),_:1})]),s("input",{ref_key:"logoInput",ref:c,type:"file",class:"hidden",onInput:a[5]||(a[5]=t=>o(l).logo=t.target.files[0]),onChange:h},null,544),e(u,{message:o(l).errors.logo,class:"mt-2"},null,8,["message"])]),s("div",null,[e(r,{for:"custom_domain",value:"Dominio propio (opcional)"}),e(n,{id:"custom_domain",type:"text",class:"mt-1 block w-full",modelValue:o(l).custom_domain,"onUpdate:modelValue":a[6]||(a[6]=t=>o(l).custom_domain=t),autocomplete:"off",placeholder:"tienda.midominio.com"},null,8,["modelValue"]),A,e(u,{class:"mt-2",message:o(l).errors.custom_domain},null,8,["message"])]),s("div",null,[e(r,{for:"facebook_url",value:"URL de Facebook"}),e(n,{id:"facebook_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).facebook_url,"onUpdate:modelValue":a[7]||(a[7]=t=>o(l).facebook_url=t),autocomplete:"off",placeholder:"https://facebook.com/tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.facebook_url},null,8,["message"])]),s("div",null,[e(r,{for:"instagram_url",value:"URL de Instagram"}),e(n,{id:"instagram_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).instagram_url,"onUpdate:modelValue":a[8]||(a[8]=t=>o(l).instagram_url=t),autocomplete:"off",placeholder:"https://instagram.com/tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.instagram_url},null,8,["message"])]),s("div",null,[e(r,{for:"tiktok_url",value:"URL de TikTok"}),e(n,{id:"tiktok_url",type:"url",class:"mt-1 block w-full",modelValue:o(l).tiktok_url,"onUpdate:modelValue":a[9]||(a[9]=t=>o(l).tiktok_url=t),autocomplete:"off",placeholder:"https://tiktok.com/@tutienda"},null,8,["modelValue"]),e(u,{class:"mt-2",message:o(l).errors.tiktok_url},null,8,["message"])])])):k("",!0),w.mustVerifyEmail&&o(p).email_verified_at===null?(_(),g("div",j)):k("",!0),s("div",G,[e(T,{disabled:o(l).processing},{default:b(()=>[y("Guardar Cambios")]),_:1},8,["disabled"])])],32)]))}};export{W as default};

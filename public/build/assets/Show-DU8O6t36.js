import{_ as b}from"./AuthenticatedLayout-BqNxN2Jo.js";import{G as v,c as w,B as F,a as n,o as a,b as h,y as k,d as p,h as $,f as t,t as s,i,F as r,n as m,e as _,l as V,m as j}from"./app-jj45mSch.js";import"./AlertModal-BlcY9iFS.js";import"./Modal-VmM5Rn9F.js";const P={key:0,class:"min-h-screen bg-gray-50"},N={class:"bg-white border-b border-gray-200 px-6 py-4 no-print"},S={class:"flex items-center justify-between max-w-4xl mx-auto"},D={class:"font-semibold text-xl text-gray-800"},C={class:"flex gap-2"},B={class:"py-12"},I={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},L={class:"print-store-header"},O={key:0,class:"text-center text-2xl font-bold mb-6 pb-4 border-b-2 border-black"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},M={class:"p-6"},U={class:"mb-6"},q=t("h3",{class:"text-lg font-semibold mb-4"},"InformaciÃ³n de la Venta",-1),z={class:"grid grid-cols-2 gap-4"},A=t("p",{class:"text-sm text-gray-500"},"NÃºmero de Venta",-1),R={class:"font-medium"},E=t("p",{class:"text-sm text-gray-500"},"Fecha",-1),G={class:"font-medium"},H=t("p",{class:"text-sm text-gray-500"},"Vendedor",-1),J={class:"font-medium"},K=t("p",{class:"text-sm text-gray-500"},"MÃ©todo de Pago",-1),Q={class:"font-medium capitalize"},W={key:0,class:"mt-4"},X=t("p",{class:"text-sm text-gray-500"},"Notas",-1),Y={class:"font-medium"},Z={class:"mb-6"},tt=t("h3",{class:"text-lg font-semibold mb-4"},"Productos Vendidos",-1),st={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200"},ot=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Producto"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cantidad"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Precio Unit."),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal")])],-1),at={class:"bg-white divide-y divide-gray-200"},nt={class:"px-4 py-3"},it={class:"font-medium"},dt={key:0,class:"text-sm text-gray-500"},lt={class:"px-4 py-3"},ct={class:"px-4 py-3"},rt={key:0},_t={class:"text-sm text-gray-400 line-through"},ut={class:"font-medium"},xt={key:1},ht={class:"px-4 py-3"},pt={key:0,class:"text-sm text-green-600 font-medium"},mt={key:1,class:"text-sm text-gray-400"},yt={class:"px-4 py-3 font-medium"},gt={class:"border-t pt-4"},ft={class:"flex justify-end"},bt={class:"w-64 space-y-2"},vt={class:"flex justify-between"},wt=t("span",null,"Subtotal:",-1),Ft={key:0,class:"flex justify-between text-red-600"},kt=t("span",null,"Descuento manual:",-1),$t={class:"flex justify-between text-lg font-bold pt-2 border-t"},Vt=t("span",null,"Total:",-1),jt={class:"flex items-center justify-between"},Pt={class:"font-semibold text-xl text-gray-800 leading-tight"},Nt={class:"flex gap-2"},St={class:"py-12"},Dt={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},Ct={class:"print-store-header"},Bt={key:0,class:"text-center text-2xl font-bold mb-6 pb-4 border-b-2 border-black"},It={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Lt={class:"p-6"},Ot={class:"mb-6"},Tt=t("h3",{class:"text-lg font-semibold mb-4"},"InformaciÃ³n de la Venta",-1),Mt={class:"grid grid-cols-2 gap-4"},Ut=t("p",{class:"text-sm text-gray-500"},"NÃºmero de Venta",-1),qt={class:"font-medium"},zt=t("p",{class:"text-sm text-gray-500"},"Fecha",-1),At={class:"font-medium"},Rt=t("p",{class:"text-sm text-gray-500"},"Vendedor",-1),Et={class:"font-medium"},Gt=t("p",{class:"text-sm text-gray-500"},"MÃ©todo de Pago",-1),Ht={class:"font-medium capitalize"},Jt={key:0,class:"mt-4"},Kt=t("p",{class:"text-sm text-gray-500"},"Notas",-1),Qt={class:"font-medium"},Wt={class:"mb-6"},Xt=t("h3",{class:"text-lg font-semibold mb-4"},"Productos Vendidos",-1),Yt={class:"overflow-x-auto"},Zt={class:"min-w-full divide-y divide-gray-200"},ts=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Producto"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cantidad"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Precio Unit."),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descuento"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subtotal")])],-1),ss={class:"bg-white divide-y divide-gray-200"},es={class:"px-4 py-3"},os={class:"font-medium"},as={key:0,class:"text-sm text-gray-500"},ns={class:"px-4 py-3"},is={class:"px-4 py-3"},ds={key:0},ls={class:"text-sm text-gray-400 line-through"},cs={class:"font-medium"},rs={key:1},_s={class:"px-4 py-3"},us={key:0,class:"text-sm text-green-600 font-medium"},xs={key:1,class:"text-sm text-gray-400"},hs={class:"px-4 py-3 font-medium"},ps={class:"border-t pt-4"},ms={class:"flex justify-end"},ys={class:"w-64 space-y-2"},gs={class:"flex justify-between"},fs=t("span",null,"Subtotal:",-1),bs={key:0,class:"flex justify-between text-red-600"},vs=t("span",null,"Descuento manual:",-1),ws={class:"flex justify-between text-lg font-bold pt-2 border-t"},Fs=t("span",null,"Total:",-1),Ps={__name:"Show",props:{sale:Object,store:Object},setup(o){const y=v(),g=w(()=>(y.props.auth?.roles||[]).includes("physical-sales")),f=()=>new URLSearchParams(window.location.search).get("print")==="true",u=()=>{window.print()};return F(()=>{f()&&setTimeout(()=>{window.print()},500)}),(d,x)=>(a(),n(r,null,[h(p($),{title:"Detalle de Venta"}),g.value?(a(),n("div",P,[t("div",N,[t("div",S,[t("h2",D," Venta #"+s(o.sale.sale_number),1),t("div",C,[t("button",{onClick:u,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," ðŸ–¨ï¸ Imprimir "),t("button",{onClick:x[0]||(x[0]=e=>d.$inertia.visit(d.route("admin.physical-sales.index"))),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Volver ")])])]),t("div",B,[t("div",I,[t("div",L,[o.store?.name?(a(),n("h1",O,s(o.store.name),1)):i("",!0)]),t("div",T,[t("div",M,[t("div",U,[q,t("div",z,[t("div",null,[A,t("p",R,"#"+s(o.sale.sale_number),1)]),t("div",null,[E,t("p",G,s(new Date(o.sale.created_at).toLocaleString()),1)]),t("div",null,[H,t("p",J,s(o.sale.user?.name||"N/A"),1)]),t("div",null,[K,t("p",Q,s(o.sale.payment_method),1)])]),o.sale.notes?(a(),n("div",W,[X,t("p",Y,s(o.sale.notes),1)])):i("",!0)]),t("div",Z,[tt,t("div",st,[t("table",et,[ot,t("tbody",at,[(a(!0),n(r,null,m(o.sale.items,e=>(a(),n("tr",{key:e.id},[t("td",nt,[t("p",it,s(e.product_name),1),e.variant_options?(a(),n("p",dt,s(Object.entries(e.variant_options).map(([l,c])=>`${l}: ${c}`).join(", ")),1)):i("",!0)]),t("td",lt,s(e.quantity),1),t("td",ct,[e.original_price&&e.original_price>e.unit_price?(a(),n("div",rt,[t("p",_t,"$"+s(parseFloat(e.original_price).toFixed(2)),1),t("p",ut,"$"+s(parseFloat(e.unit_price).toFixed(2)),1)])):(a(),n("p",xt,"$"+s(parseFloat(e.unit_price).toFixed(2)),1))]),t("td",ht,[e.discount_percent>0?(a(),n("span",pt," -"+s(e.discount_percent)+"% ",1)):(a(),n("span",mt,"-"))]),t("td",yt,"$"+s(parseFloat(e.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",gt,[t("div",ft,[t("div",bt,[t("div",vt,[wt,t("span",null,"$"+s(parseFloat(o.sale.subtotal).toFixed(2)),1)]),o.sale.discount>0?(a(),n("div",Ft,[kt,t("span",null,"-$"+s(parseFloat(o.sale.discount).toFixed(2)),1)])):i("",!0),t("div",$t,[Vt,t("span",null,"$"+s(parseFloat(o.sale.total).toFixed(2)),1)])])])])])])])])])):(a(),k(b,{key:1},{header:_(()=>[t("div",jt,[t("h2",Pt," Venta #"+s(o.sale.sale_number),1),t("div",Nt,[t("button",{onClick:u,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 no-print"}," ðŸ–¨ï¸ Imprimir "),h(p(V),{href:d.route("admin.physical-sales.index"),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 no-print"},{default:_(()=>[j(" Volver ")]),_:1},8,["href"])])])]),default:_(()=>[t("div",St,[t("div",Dt,[t("div",Ct,[o.store?.name?(a(),n("h1",Bt,s(o.store.name),1)):i("",!0)]),t("div",It,[t("div",Lt,[t("div",Ot,[Tt,t("div",Mt,[t("div",null,[Ut,t("p",qt,"#"+s(o.sale.sale_number),1)]),t("div",null,[zt,t("p",At,s(new Date(o.sale.created_at).toLocaleString()),1)]),t("div",null,[Rt,t("p",Et,s(o.sale.user?.name||"N/A"),1)]),t("div",null,[Gt,t("p",Ht,s(o.sale.payment_method),1)])]),o.sale.notes?(a(),n("div",Jt,[Kt,t("p",Qt,s(o.sale.notes),1)])):i("",!0)]),t("div",Wt,[Xt,t("div",Yt,[t("table",Zt,[ts,t("tbody",ss,[(a(!0),n(r,null,m(o.sale.items,e=>(a(),n("tr",{key:e.id},[t("td",es,[t("p",os,s(e.product_name),1),e.variant_options?(a(),n("p",as,s(Object.entries(e.variant_options).map(([l,c])=>`${l}: ${c}`).join(", ")),1)):i("",!0)]),t("td",ns,s(e.quantity),1),t("td",is,[e.original_price&&e.original_price>e.unit_price?(a(),n("div",ds,[t("p",ls,"$"+s(parseFloat(e.original_price).toFixed(2)),1),t("p",cs,"$"+s(parseFloat(e.unit_price).toFixed(2)),1)])):(a(),n("p",rs,"$"+s(parseFloat(e.unit_price).toFixed(2)),1))]),t("td",_s,[e.discount_percent>0?(a(),n("span",us," -"+s(e.discount_percent)+"% ",1)):(a(),n("span",xs,"-"))]),t("td",hs,"$"+s(parseFloat(e.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",ps,[t("div",ms,[t("div",ys,[t("div",gs,[fs,t("span",null,"$"+s(parseFloat(o.sale.subtotal).toFixed(2)),1)]),o.sale.discount>0?(a(),n("div",bs,[vs,t("span",null,"-$"+s(parseFloat(o.sale.discount).toFixed(2)),1)])):i("",!0),t("div",ws,[Fs,t("span",null,"$"+s(parseFloat(o.sale.total).toFixed(2)),1)])])])])])])])])]),_:1}))],64))}};export{Ps as default};
